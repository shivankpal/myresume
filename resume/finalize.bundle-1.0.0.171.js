webpackJsonp([7],{219:function(e,t,o){"use strict";function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function c(e,t){var o=(0,_.GetClientSettingValue)(e.Common.clientSettings,U.ClientSettings.IsWelcomeBack),s=1==(0,_.GetUserPreferenceValue)(e.User,U.UserPreferenceConstant.ShowDashBoard),a=getExperimentVariant(RDL.PortalExperiments.mprRWZFinalizepageV2)>2,i=getExperimentVariant(RDL.PortalExperiments.mprRWZFinalizepageV2),n=getExperimentVariant(RDL.PortalExperiments.mprDashboardCombinedCheck),r=getExperimentVariant(RDL.PortalExperiments.lcDashboardCombinedCheck),l=getExperimentVariant(RDL.PortalExperiments.mprGuestUserFlow)>=3,c=!1;(RDL.isLCA||RDL.isZTY||RDL.isMPR||RDL.isMPUK&&RDL.enableResumeCheck)&&(c=!0),3!=n&&3!=r||(c=!1);var m="",d=e.Document.preferences&&e.Document.preferences.length>0?e.Document.preferences.find(function(e){return e.docPreferenceTypeCD==U.DocumentPreferenceConstant.ResumeCheckTargetedJob}):null;return m=null==d||void 0==d?"":d.value,{Document:e.Document,User:e.User,Common:e.Common,isWelcomeBackShown:o,showDashBoard:s,resumeCheckFeaturePopUp:c,resumeCheckTargetedJob:m,showfinalizeV2:a,finalizeV2Variant:i,mprCombinedCheckVariant:n,lcCombinedCheckVariant:r,showGuestUserFlow:l}}function m(e){return{documentActions:(0,f.bindActionCreators)(g,e),userActions:(0,f.bindActionCreators)(w,e),commonActions:(0,f.bindActionCreators)(R,e)}}Object.defineProperty(t,"__esModule",{value:!0});var d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(e[s]=o[s])}return e},u=function(){function e(e,t){for(var o=0;o<t.length;o++){var s=t[o];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,o,s){return o&&e(t.prototype,o),s&&e(t,s),t}}();t.mapDispatchToProps=m;var p=o(0),h=a(p),C=o(52),f=o(41),D=o(62),g=s(D),S=o(73),w=s(S),k=o(63),R=s(k),P=o(64),L=a(P),v=o(135),T=o(204),E=o(205),N=o(5),U=s(N),y=o(693),b=a(y),M=o(221),O=a(M),I=o(7),F=o(132),A=s(F),z=o(65),_=o(10),H=o(30),x=o(130),V=a(x),B=o(131),W=a(B),j=o(71),J=function(e){function t(e,o){var s;n(this,t);var a=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,o));G.call(a),a.isShowPrflSection=window.RDL.isINTL,a.showDownloadFileName=!isIPAD()&&isFeaturePresent(U.FeatureSet.DOWNLOAD_FILE_NAME),a.templateDrawerOpenedOnce=(0,_.GetUserPreferenceValue)(a.props.User,U.UserPreferenceConstant.FinalizePageTemplateDrawerOpened),a.Open_Template_Drawer=!a.props.showfinalizeV2&&isFeaturePresent(U.FeatureSet.Open_Template_Drawer),a.showTemplateDrawer=3==getExperimentVariant(RDL.PortalExperiments.mpcvShowTemplateDrawer),a.htmlClassList=document.documentElement.classList,a.editedResumeName="",a.FirstName="",a.isResumeCheckTitlePresent=!0;var l=JSON.parse(JSON.stringify(a.props.Document.docStyles)),c=l.find(function(e){return e.styleTypeCD==U.styleTypeCD.PGSZ});return a.state=(s={showPopup:!0,Document:JSON.parse(JSON.stringify(a.props.Document)),jobTitleObj:{jobTitle:"",searchType:"",industryCd:""},deleteSelectedSection:{},deleteSelectedParagraph:{},skinCD:a.props.Document.skinCD,resize:!1,isTemplateOptionsVisible:!1,isFormatOptionsVisible:!1,isCustomFormatOptionsVisible:!1,isColorPickerVisible:!1,colorPickerSelectedColor:"",formatTemplateText:"",resumeNameEdit:!1,resumeNameValidation:"",isToggleMoreOption:!1,duplicateResumeNameValidation:"",resumeName:Object.assign({},U.resumeName),documentName:Object.assign({},U.documentName),downloadResumeName:Object.assign({},U.downloadResumeName),activeSkin:"",selectedResumeFormat:"",isPrintModalOpen:!1,to:U.to,from:U.from,subject:U.subject,emailBody:"",spellCheck:Object.assign({},U.spellCheckData),spellCheckNotification:{isOpen:!1,message:""},popupName:""},i(s,"showPopup",!1),i(s,"showSMSPopup",!1),i(s,"isFunnelWelcomeBackModalOpen",!1),i(s,"isWelcomeBackModalOpen",!1),i(s,"showResumeCheckFeature",!1),i(s,"showResumeCheckCancelbutton",!1),i(s,"previewImages",[]),i(s,"isPremiumUser",!1),i(s,"badWordsSpellCount",0),i(s,"accordionActiveTab",""),i(s,"showPaperOptions",!1),i(s,"paperSize",c?c.value.toLowerCase():"a4"),s),j.ColorSelectorColors=window.RDL.colorsList?window.RDL.colorsList:j.ColorSelectorColors,a}return l(t,e),u(t,[{key:"componentWillMount",value:function(){var e=this;(0,_.setPageSpecificClass)("finalize"),this.props.showfinalizeV2&&(this.htmlClassList.add("abtest-finalize-reorganize"),4===this.props.finalizeV2Variant&&this.htmlClassList.add("abtest-finalize-reorganize-var4-ctatopright")),this.props.resumeCheckFeaturePopUp&&this.htmlClassList.add("feature-resume-check");var t=!1;if(window.RDL.TrackOptimizelyEvents("final resume"),window.scrollTo(0,0),!this.props.Document.id)return sessionStorage.removeItem("isCalledFromFinalize"),void(I.CommonHelper.isLoggedInUser(window.RDL.UserClaims)?window.location=window.RDL.Paths.BasePath+"?welcomeback=1":this.props.history.push(window.RDL.Paths.BasePath));this.props.User&&"Guest"==this.props.User.Role&&(this.props.showGuestUserFlow?this.props.history.push(H.ROUTING_PATH.LOGINNOW):this.props.history.push(H.ROUTING_PATH.LOGIN)),this.setFirstNameValue(),this.checkPreferenceAndOpenTemplateDrawer(),this.saveLatestJobTitlePreference(this.state.Document),this.saveBestMatchedJobDetails(this.state.Document),document.title=window.RDL.Localization.finalResume_PageTitle+RDL.PortalSettings.ConfigurePortalName;var o=RDL.Skins.find(function(t){return t.id==e.state.Document.skinCD});sessionStorage.setItem("isCalledFromFinalize",!0),o&&(this.state.activeSkin=o.name),this.props.userActions.SaveUserPreference(this.props.User.UserUID,U.UserPreferenceConstant.UserPreferenceCode,U.UserPreferenceConstant.Finalize+"&"+this.props.Document.id,window.RDL.PortalSettings.ConfigurePortalCd),this.state.resumeName.value=this.props.Document.name&&""!=this.props.Document.name?this.props.Document.name:"Resume 1",document.getElementsByTagName("body")[0].classList.add("light-bg"),this.props.showfinalizeV2||window.addEventListener("scroll",this.handleScroll),this.state.subject.value=this.state.resumeName.value,this.state.downloadResumeName.value=this.state.resumeName.value,this.props.userActions.IsPremiumUser(this.props.User.UserUID,window.RDL.PortalSettings.ConfigureProductId).then(function(t){e.setState({isPremiumUser:t})}),RDL.ShowResumeCheck&&(RDL.ShowResumeCheck=!1,this.onResumeCheckClick());var s=this.chooseSelectedFormatting(this.state.Document.skinCD);this.setState({formatTemplateText:s}),this.triggerUserStage(),this.props.isWelcomeBackShown&&(RDL.isMPR&&(t=(0,_.ShowWelcomeBackSMSPopup)(this.props.User))&&this.props.userActions.IsPremiumUser(this.props.User.UserUID,window.RDL.PortalSettings.ConfigureProductId).then(function(t){t?e.setState({isFunnelWelcomeBackModalOpen:!0}):e.setState({showSMSPopup:!0})}),t||this.setState({isFunnelWelcomeBackModalOpen:!0})),this.props.showfinalizeV2&&this.processSpellCheck(!0),4!=this.props.mprCombinedCheckVariant&&5!=this.props.mprCombinedCheckVariant&&4!=this.props.lcCombinedCheckVariant||(this.isResumeCheckTitlePresent=!1)}},{key:"componentWillUnmount",value:function(){document.getElementsByTagName("body")[0].classList.remove("light-bg"),this.props.showfinalizeV2||window.removeEventListener("scroll",this.handleScroll),window.removeEventListener("resize",this.resize),window.scrollTo(0,0),this.saveLatestJobTitlePreference(this.state.Document),this.setLatestJobTitleForTTC(this.state.Document),this.showDownloadFileName&&this.htmlClassList.remove("download-file-name"),this.props.resumeCheckScorePopUp&&this.htmlClassList.remove("feature-resume-check"),this.props.showfinalizeV2&&(this.htmlClassList.remove("abtest-finalize-reorganize"),4===this.props.finalizeV2Variant&&this.htmlClassList.remove("abtest-finalize-reorganize-var4-ctatopright")),RDL.PortalExperiments.mprResumeCheckInterstitial&&this.htmlClassList.remove("f-resume-check-interstitial"),(0,_.setPageSpecificClass)("finalize",!0)}},{key:"componentWillReceiveProps",value:function(e){e.Document==this.props.Document&&e.Document.id==this.props.Document.id||this.setState({Document:e.Document}),this.setState({skinCD:e.Document.skinCD})}},{key:"componentDidMount",value:function(){var e=this;if(this.props.Document.id){this.showDownloadFileName&&this.htmlClassList.add("download-file-name"),RDL.closePageLoader(),document.addEventListener("click",this.onBodyClick),window.RDL.BuilderUsageTrackEvents("viewed","finalize",null,I.CommonHelper.isLoggedInUser(window.RDL.UserClaims),null),window.addEventListener("resize",this.resize),sessionStorage.removeItem("addSections");var t=(0,_.getProgressBarItems)().find(function(e){return"FNLZ"==e.pageCode}).index;RDL.setVisitedIndex(t),!this.Open_Template_Drawer&&this.showTemplateDrawer&&null==this.templateDrawerOpenedOnce&&this.props.userActions.GetUserPreference(this.props.User.UserUID).then(function(t){if(void 0!==t&&t){t.find(function(e){return e.code==U.UserPreferenceConstant.FinalizePageTemplateDrawerOpened})||e.openCloseTemplateDropdown(null)}});var o=document.getElementById("FIELD_PURL");o&&(o.onclick=function(t){e.onPhotoClick()}),this.props.showfinalizeV2&&(this.moveFooterInSidebar(),this.setSidebarAccordionHeight(),window.onresize=function(){e.setSidebarAccordionHeight()}),this.checkVariantAndShowCompactResumeCheck(!0)}}},{key:"componentDidUpdate",value:function(){var e=this,t=document.getElementById("FIELD_PURL");t&&(t.onclick=function(t){e.onPhotoClick()})}},{key:"render",value:function(){var e,t,o=I.CommonHelper.isLoggedInUser(window.RDL.UserClaims),s=this.getColorForColorSelector(),a=RDL.isMPR&&!this.state.isPremiumUser&&!isIPAD()&&RDL.PortalExperiments.mprResumeCheckInterstitial;return this.props.Document.id?h.default.createElement(h.default.Fragment,null,window.pref&&this.state.showSMSPopup&&h.default.createElement(V.default,{onGetJobsClicked:this.onGetJobsClicked,isPremiumUser:this.state.isPremiumUser,user:this.props.User,showDashBoardLink:this.props.showDashBoard,setWelcomeBackClientSettings:this.setWelcomeBackClientSettings}),window.pref&&this.state.isFunnelWelcomeBackModalOpen&&h.default.createElement(W.default,{isPremiumUser:this.state.isPremiumUser,user:this.props.User,redirectToChooseTemplate:this.redirectToChooseTemplate,showDashBoardLink:this.props.showDashBoard,setWelcomeBackClientSettings:this.setWelcomeBackClientSettings}),this.props.showfinalizeV2?h.default.createElement(O.default,(t={state:this.state,user:this.props.User,assignRef:this.assignRef,onBodyClick:this.onBodyClick,txtOnChange:this.txtOnChange,updateResumeNameEdit:this.updateResumeNameEdit,deleteResume:this.deleteResume,closeDeleteSectionModal:this.closeDeleteSectionModal,deleteSection:this.deleteSectionOrParagraph,deleteParagraph:this.deleteParagraph,cancelResumeName:this.cancelResumeName,resumeNameEdit:this.resumeNameEdit,closeMoreOption:this.closeMoreOption,openMoreOption:this.openMoreOption,duplicateResume:this.duplicateResume,openDuplicateModal:this.openDuplicateModal,openDeleteResumeModal:this.openDeleteResumeModal,handleHover:this.handleHover},i(t,"handleHover",this.handleHover),i(t,"onNoSpellCheckSuggestionsFound",this.onNoSpellCheckSuggestionsFound),i(t,"navigateToSectionPage",this.navigateToSectionPage),i(t,"openCloseTemplateDropdown",this.openCloseTemplateDropdown),i(t,"openCloseFormatOptions",this.openCloseFormatOptions),i(t,"handleChangeFormatting",this.handleChangeFormatting),i(t,"setSelectedTemplate",this.setSelectedTemplate),i(t,"onSkinMouseEnter",this.onSkinMouseEnter),i(t,"onSkinMouseLeave",this.onSkinMouseLeave),i(t,"isSectionDelete",!this.state.deleteSelectedParagraph),i(t,"onSliderChanging",this.onSliderChanging),i(t,"onFormattingChange",this.onFormattingChange),i(t,"onFontClick",this.onFontClick),i(t,"formatingTemplate",this.formatingTemplate),i(t,"openCloseCustomFormatOptions",this.openCloseCustomFormatOptions),i(t,"openDeleteSectionsPopup",this.openDeleteSectionsPopup),i(t,"onEdit",this.onEdit),i(t,"showPopup",this.showPopup),i(t,"addAnotherParagraph",this.addAnotherParagraph),i(t,"isLoggedIn",o),i(t,"reorderSections",this.reorderSections),i(t,"renameSection",this.renameSection),i(t,"closeDeleteResumeModal",this.closeDeleteResumeModal),i(t,"closeDuplicateModal",this.closeDuplicateModal),i(t,"openCloseColorSelector",this.openCloseColorSelector),i(t,"closeDownloadModal",this.closeDownloadModal),i(t,"downloadResume",this.downloadResume),i(t,"openDownloadModal",this.openDownloadModal),i(t,"showDownloadFileName",this.showDownloadFileName),i(t,"onPrintClick",this.onPrintClick),i(t,"closePrintModal",this.closePrintModal),i(t,"printResume",this.printResume),i(t,"navigateToPrintPage",this.navigateToPrintPage),i(t,"afterOpenPrintModal",this.afterOpenPrintModal),i(t,"onEmailClick",this.onEmailClick),i(t,"closeEmailModal",this.closeEmailModal),i(t,"closeEmailForm",this.closeEmailForm),i(t,"onEmailFormChange",this.onEmailFormChange),i(t,"onFormatSelected",this.onFormatSelected),i(t,"resumeName",this.state.resumeName.value),i(t,"emailResume",this.emailResume),i(t,"openEmailModal",this.openEmailModal),i(t,"emailResumeAgain",this.emailResumeAgain),i(t,"onSpellCheckClick",this.onSpellCheckClick),i(t,"onSpellCheckCancel",this.onSpellCheckCancel),i(t,"firstName",this.FirstName),i(t,"openEmailSuccessModal",this.openEmailSuccessModal),i(t,"closeEmailSuccesModal",this.closeEmailSuccesModal),i(t,"openEmailErrorModal",this.openEmailErrorModal),i(t,"closeEmailErrorModal",this.closeEmailErrorModal),i(t,"onResumeCheckClick",this.onResumeCheckClick),i(t,"closeResumeCheckModal",this.closeResumeCheckModal),i(t,"updateDocumentSpellCheck",this.updateDocumentSpellCheck),i(t,"onSaveandNextClick",this.onSaveandNextClick),i(t,"renameResumeKeyPress",this.renameResumeKeyPress),i(t,"addSec",this.addSec),i(t,"isShowPrflSection",this.isShowPrflSection),i(t,"openShareModal",this.openShareModal),i(t,"closeShareModal",this.closeShareModal),i(t,"shareResumeToFacebook",this.shareResumeToFacebook),i(t,"shareResumeToLinkedIn",this.shareResumeToLinkedIn),i(t,"shareResumeToTwitter",this.shareResumeToTwitter),i(t,"updateDocumentOnSpellCheck",this.updateDocumentOnSpellCheck),i(t,"colorItems",j.ColorSelectorColors),i(t,"skinColor",s),i(t,"onColorPickerMouseEnter",this.onColorPickerMouseEnter),i(t,"onColorPickerMouseLeave",this.onColorPickerMouseLeave),i(t,"onSkinColorSelected",this.onSkinColorSelected),i(t,"resumeCheckTargetedJob",this.props.resumeCheckTargetedJob),i(t,"isResumeCheckTitlePresent",this.isResumeCheckTitlePresent),i(t,"getResumeCheckActivityList",this.getResumeCheckActivityList),i(t,"closeResumeCheckFeatureModal",this.closeResumeCheckFeatureModal),i(t,"onResumeCheckFixResumeClick",this.onResumeCheckFixResumeClick),i(t,"onResumeCheckFeatureCancelClick",this.onResumeCheckFeatureCancelClick),i(t,"userActions",this.props.userActions),i(t,"isPremiumUser",this.state.isPremiumUser),i(t,"finalizeV2Variant",this.props.finalizeV2Variant),i(t,"toggleAccordion",this.toggleAccordion),i(t,"updateBadWordsCount",this.updateBadWordsCount),i(t,"resetAccordion",this.resetAccordion),t)):h.default.createElement(b.default,(e={state:this.state,user:this.props.User,assignRef:this.assignRef,onBodyClick:this.onBodyClick,txtOnChange:this.txtOnChange,updateResumeNameEdit:this.updateResumeNameEdit,deleteResume:this.deleteResume,closeDeleteSectionModal:this.closeDeleteSectionModal,deleteSection:this.deleteSectionOrParagraph,deleteParagraph:this.deleteParagraph,cancelResumeName:this.cancelResumeName,resumeNameEdit:this.resumeNameEdit,closeMoreOption:this.closeMoreOption,openMoreOption:this.openMoreOption,duplicateResume:this.duplicateResume,openDuplicateModal:this.openDuplicateModal,openDeleteResumeModal:this.openDeleteResumeModal,handleHover:this.handleHover},i(e,"handleHover",this.handleHover),i(e,"onNoSpellCheckSuggestionsFound",this.onNoSpellCheckSuggestionsFound),i(e,"navigateToSectionPage",this.navigateToSectionPage),i(e,"openCloseTemplateDropdown",this.openCloseTemplateDropdown),i(e,"openCloseFormatOptions",this.openCloseFormatOptions),i(e,"handleChangeFormatting",this.handleChangeFormatting),i(e,"setSelectedTemplate",this.setSelectedTemplate),i(e,"onSkinMouseEnter",this.onSkinMouseEnter),i(e,"onSkinMouseLeave",this.onSkinMouseLeave),i(e,"isSectionDelete",!this.state.deleteSelectedParagraph),i(e,"onSliderChanging",this.onSliderChanging),i(e,"onFormattingChange",this.onFormattingChange),i(e,"onFontClick",this.onFontClick),i(e,"formatingTemplate",this.formatingTemplate),i(e,"openCloseCustomFormatOptions",this.openCloseCustomFormatOptions),i(e,"openDeleteSectionsPopup",this.openDeleteSectionsPopup),i(e,"onEdit",this.onEdit),i(e,"showPopup",this.showPopup),i(e,"addAnotherParagraph",this.addAnotherParagraph),i(e,"isLoggedIn",o),i(e,"reorderSections",this.reorderSections),i(e,"renameSection",this.renameSection),i(e,"closeDeleteResumeModal",this.closeDeleteResumeModal),i(e,"closeDuplicateModal",this.closeDuplicateModal),i(e,"openCloseColorSelector",this.openCloseColorSelector),i(e,"closeDownloadModal",this.closeDownloadModal),i(e,"downloadResume",this.downloadResume),i(e,"openDownloadModal",this.openDownloadModal),i(e,"showDownloadFileName",this.showDownloadFileName),i(e,"onPrintClick",this.onPrintClick),i(e,"closePrintModal",this.closePrintModal),i(e,"printResume",this.printResume),i(e,"navigateToPrintPage",this.navigateToPrintPage),i(e,"afterOpenPrintModal",this.afterOpenPrintModal),i(e,"onEmailClick",this.onEmailClick),i(e,"closeEmailModal",this.closeEmailModal),i(e,"closeEmailForm",this.closeEmailForm),i(e,"onEmailFormChange",this.onEmailFormChange),i(e,"onFormatSelected",this.onFormatSelected),i(e,"resumeName",this.state.resumeName.value),i(e,"emailResume",this.emailResume),i(e,"openEmailModal",this.openEmailModal),i(e,"emailResumeAgain",this.emailResumeAgain),i(e,"onSpellCheckClick",this.onSpellCheckClick),i(e,"onSpellCheckCancel",this.onSpellCheckCancel),i(e,"firstName",this.FirstName),i(e,"openEmailSuccessModal",this.openEmailSuccessModal),i(e,"closeEmailSuccesModal",this.closeEmailSuccesModal),i(e,"openEmailErrorModal",this.openEmailErrorModal),i(e,"closeEmailErrorModal",this.closeEmailErrorModal),i(e,"onResumeCheckClick",this.onResumeCheckClick),i(e,"closeResumeCheckModal",this.closeResumeCheckModal),i(e,"updateDocumentSpellCheck",this.updateDocumentSpellCheck),i(e,"onSaveandNextClick",this.onSaveandNextClick),i(e,"renameResumeKeyPress",this.renameResumeKeyPress),i(e,"addSec",this.addSec),i(e,"isShowPrflSection",this.isShowPrflSection),i(e,"openShareModal",this.openShareModal),i(e,"closeShareModal",this.closeShareModal),i(e,"shareResumeToFacebook",this.shareResumeToFacebook),i(e,"shareResumeToLinkedIn",this.shareResumeToLinkedIn),i(e,"shareResumeToTwitter",this.shareResumeToTwitter),i(e,"updateDocumentOnSpellCheck",this.updateDocumentOnSpellCheck),i(e,"colorItems",j.ColorSelectorColors),i(e,"skinColor",s),i(e,"onColorPickerMouseEnter",this.onColorPickerMouseEnter),i(e,"onColorPickerMouseLeave",this.onColorPickerMouseLeave),i(e,"onSkinColorSelected",this.onSkinColorSelected),i(e,"resumeCheckTargetedJob",this.props.resumeCheckTargetedJob),i(e,"isResumeCheckTitlePresent",this.isResumeCheckTitlePresent),i(e,"getResumeCheckActivityList",this.getResumeCheckActivityList),i(e,"closeResumeCheckFeatureModal",this.closeResumeCheckFeatureModal),i(e,"onResumeCheckFixResumeClick",this.onResumeCheckFixResumeClick),i(e,"onResumeCheckFeatureCancelClick",this.onResumeCheckFeatureCancelClick),i(e,"showResumeCheckInterstitial",a),i(e,"onResumeCheckInterstitialPopupClose",this.onResumeCheckInterstitialPopupClose),i(e,"onResumeCheckInterstitialPopupContinue",this.onResumeCheckInterstitialPopupContinue),i(e,"userActions",this.props.userActions),i(e,"isPremiumUser",this.state.isPremiumUser),i(e,"showDeleteInDragDisableSections",this.showDeleteInDragDisableSections()),i(e,"changePaperSize",this.changePaperSize),i(e,"changePaperA4",this.changePaperA4),i(e,"changePaperLetter",this.changePaperLetter),e))):h.default.createElement("div",null)}},{key:"openCenteredWindow",value:function(e,t,o,s,a,i){var n=null,r=(640-t)/2,l=(480-o)/2,c="width="+t+",height="+o+",left="+r+",screenX="+r+",top="+l+",screenY="+l+","+s;return n=e&&""!=e?window.open(e,"_blank",c):window.open("","_blank",c),n&&(a?(n.blur(),window.focus()):n.focus()),n}}]),t}(p.Component),G=function(){var e=this;this.setFirstNameValue=function(){var t=I.CommonHelper.getSectionByCD(e.state.Document.sections,I.TypeCodes.sectionTypeCd.Name);t&&t.paragraphs&&t.paragraphs.length>0&&t.paragraphs[0].docDatas&&t.paragraphs[0].docDatas.length>0&&(e.FirstName=I.CommonHelper.getCharValue(t.paragraphs[0].docDatas,I.TypeCodes.fieldCd.FirstName)||"")},this.setWelcomeBackDetails=function(){var t=!1;e.props.previousPath&&"login"==e.props.previousPath&&(t=!0,e.setState({isWelcomeBackModalOpen:t})),t||e.props.userActions.IsPremiumUser(e.props.userId,window.RDL.PortalSettings.ConfigureProductId).then(function(t){e.setState({isFunnelWelcomeBackModalOpen:!0,isPremium:t})})},this.redirectToChooseTemplate=function(){(0,_.redirectToPage)(e.props,"choosetemplate",!0)},this.setWelcomeBackClientSettings=function(){e.props.commonActions.SetClientSetting(U.ClientSettings.IsWelcomeBack,!1)},this.assignRef=function(t,o){null!=o&&(e[t]=o)},this.triggerUserStage=function(){e.props.userActions.SaveUserStages(e.props.User.UserUID,U.userStages.Finalize,window.RDL.PortalSettings.ConfigureProductCd,window.RDL.PortalSettings.ConfigurePortalCd)},this.handleScroll=function(){e.sideBarSticky()},this.sideBarSticky=function(){window.pageYOffset>=100&&e.sideBarBody.clientHeight<=window.innerHeight-70?(e.sideBar.style.left=e.sideBar.offsetLeft+"px",e.sideBar.classList.add("sticky-top")):e.sideBar.classList.remove("sticky-top")},this.resize=function(){e.setState({resize:!0}),window.scrollTo(0,0),e.setSvgHeight()},this.setSvgHeight=function(){var e=document.querySelectorAll(".skin-item-svg"),t=document.querySelector(".skin-item-svg");e&&t&&e.forEach(function(e){e.style.height=1.29*t.offsetWidth+"px"})},this.toggleAccordion=function(t){"SpellCheck"==e.state.accordionActiveTab&&e.onSpellCheckCancel(),t===e.state.accordionActiveTab?e.setState({accordionActiveTab:"",isTemplateOptionsVisible:!1,isFormatOptionsVisible:!1,isCustomFormatOptionsVisible:!1,isColorPickerVisible:!1}):e.setState({accordionActiveTab:t,isTemplateOptionsVisible:!1,isFormatOptionsVisible:!1,isCustomFormatOptionsVisible:!1,isColorPickerVisible:!1})},this.resetAccordion=function(){e.setState({accordionActiveTab:""})},this.moveFooterInSidebar=function(){document.getElementById("sidebarFooter").innerHTML=document.getElementById("upperFooter").innerHTML},this.setSidebarAccordionHeight=function(){var e=document.getElementById("accordionFooterWrap");if(e){var t=document.querySelector(".user-message").offsetHeight;e.classList.contains("fixed-top")?e.style.height=window.innerHeight-document.querySelector(".js-finalize-header").offsetHeight-t-50+"px":e.style.height=window.innerHeight-t-50+"px"}},this.onPhotoClick=function(){window.RDL.isFR?e.props.history.push(H.ROUTING_PATH.CONTACT):e.props.history.push(H.ROUTING_PATH.UPLOAD_PHOTO)},this.renameSection=function(t,o){var s=JSON.parse(JSON.stringify(e.state.Document.sections)),a=s.findIndex(function(e){return e.id==t});if(a>=0){s=(0,L.default)(s,i({},a,{name:{$set:o}}));var n=JSON.parse(JSON.stringify(e.state.Document));n.sections=JSON.parse(JSON.stringify(s)),e.setState({Document:n},function(){e.props.documentActions.UpdateDocument(e.props.User.UserUID,n)})}},this.handleHover=function(t){t.preventDefault(),t.stopPropagation(),("resumeDoc"==t.target.id||"document"==t.target.id||t.target.classList.contains("doc-overlay"))&&e.renderer.clearRename()},this.openCloseTemplateDropdown=function(t){window.RDL.BuilderUsageTrackEvents("clicked","finalize",null,I.CommonHelper.isLoggedInUser(window.RDL.UserClaims),"template menu"),e.setSvgHeight(),t&&(t.stopPropagation(),t.preventDefault()),e.slickCarousel&&e.slickCarousel.slickGoTo(0,!0),e.state.isTemplateOptionsVisible?document.removeEventListener("click",e.handleOutsideTemplateClick,!1):document.addEventListener("click",e.handleOutsideTemplateClick,!1),window.RDL.isINTL&&(e.templateDrawerOpenedOnce||(e.props.userActions.SaveUserPreference(e.props.User.UserUID,U.UserPreferenceConstant.FinalizePageTemplateDrawerOpened,!0,window.RDL.PortalSettings.ConfigurePortalCd),e.templateDrawerOpenedOnce=!0)),e.props.showfinalizeV2&&e.toggleAccordion("Template"),e.setState({isTemplateOptionsVisible:!e.state.isTemplateOptionsVisible,isFormatOptionsVisible:!1,isCustomFormatOptionsVisible:!1,isColorPickerVisible:!1})},this.getClosest=function(e,t){for(;e&&e!==document;e=e.parentNode)if(e.classList.contains(t))return!0;return!1},this.handleOutsideTemplateClick=function(t){var o=e.props.showfinalizeV2?e.getClosest(t.target,"sidebar"):e.getClosest(t.target,"footer-toolbar"),s=e.getClosest(t.target,"dropdown-template"),a=e.getClosest(t.target,"dropdown-formatting");o||s||a||(e.props.showfinalizeV2&&e.toggleAccordion(""),e.setState({isTemplateOptionsVisible:!1,isFormatOptionsVisible:!1,isCustomFormatOptionsVisible:!1,isColorPickerVisible:!1}),document.removeEventListener("click",e.handleOutsideTemplateClick,!1))},this.openCloseFormatOptions=function(t){t&&t.stopPropagation(),window.RDL.BuilderUsageTrackEvents("clicked","finalize",null,I.CommonHelper.isLoggedInUser(window.RDL.UserClaims),"formatting menu"),e.state.isFormatOptionsVisible?document.removeEventListener("click",e.handleOutsideTemplateClick,!1):document.addEventListener("click",e.handleOutsideTemplateClick,!1),e.setState({isFormatOptionsVisible:!e.state.isFormatOptionsVisible,isTemplateOptionsVisible:!1,isCustomFormatOptionsVisible:!1,isColorPickerVisible:!1}),RDL.isZTY&&e.openCloseCustomFormatOptions()},this.openCloseCustomFormatOptions=function(t){t&&t.stopPropagation(),e.state.isCustomFormatOptionsVisible?document.removeEventListener("click",e.handleOutsideTemplateClick,!1):document.addEventListener("click",e.handleOutsideTemplateClick,!1),e.setState({isCustomFormatOptionsVisible:!e.state.isCustomFormatOptionsVisible,isFormatOptionsVisible:!1,isTemplateOptionsVisible:!1,isColorPickerVisible:!1,formatTemplateText:RDL.Localization.custom_Text})},this.chooseSelectedFormatting=function(t){var o="Custom",s=RDL.getTemplateFromSkin(t),a=e.props.Document.docStyles,i=e.getDefaultStyleFromTemplateHtml(t,s),n=j.SkinFormatting.find(function(e){return e.SkinCd==t});if(i&&i.Default&&e.compareStyleProperties(i.Default,a))window.RDL.isINTL?(o="Normal",e.handleChangeFormatting(null,"Normal")):o="";else if(n&&n.Small&&e.compareStyleProperties(n.Small,a))o="Small";else if(n&&n.Normal&&e.compareStyleProperties(n.Normal,a)){if(o="Normal",window.RDL.isINTL){o="Normal";e.handleChangeFormatting(null,"Normal")}}else n&&n.Large&&e.compareStyleProperties(n.Large,a)&&(o="Large");return o},this.getDefaultStyleFromTemplateHtml=function(e,t){var o=Array.from(t.getElementsByTagName("default")),s={};return o.forEach(function(e){window.RDL.isINTL&&!window.RDL.isMX&&e.getAttribute("name")==U.styleTypeCD.PGSZ?s[e.getAttribute("name")]="A4":s[e.getAttribute("name")]=e.getAttribute("content")}),{SkinCd:e,Default:s}},this.compareStyleProperties=function(e,t){for(var o=!1,s=0;s<t.length;s++)if(t[s].styleTypeCD!=U.styleTypeCD.SDCL&&e.hasOwnProperty(t[s].styleTypeCD)){if(e[t[s].styleTypeCD]!=t[s].value){o=!1;break}o=!0}return o},this.handleChangeFormatting=function(t,o){t&&t.stopPropagation();var s=e.state.skinCD,a=JSON.parse(JSON.stringify(e.state.Document.docStyles));if(null==o&&(o="Small"),s&&""!=s){var i=j.SkinFormatting.find(function(e){return e.SkinCd==s});if(i){var n=i[o];for(var r in n)!function(e){if(e!=U.styleTypeCD.FTFC&&e!=U.styleTypeCD.SDCL&&e!=U.styleTypeCD.PGSZ){a.find(function(t){return t.styleTypeCD==e}).value=n[e]}}(r);var l=I.DocumentHelper.updateDocumentWithDocStyles(e.state.Document,a);e.setState({document:l,formatTemplateText:o}),e.props.documentActions.updateDocStyle(e.props.User.UserUID,e.state.Document.id,a)}}},this.onSkinMouseEnter=function(t){var o=t.currentTarget.getAttribute("data-skincd");e.setState({skinCD:o}),I.CommonHelper.overlayDynamicWidth()},this.onSkinMouseLeave=function(t){e.setState({skinCD:e.state.Document.skinCD}),I.CommonHelper.overlayDynamicWidth()},this.setSelectedTemplate=function(t){var o=t.currentTarget.getAttribute("data-skincd"),s=Object.assign([],e.state.Document),a=s.sections;if(o!=e.state.Document.skinCD){var i=I.DocumentHelper.GetDefaultSectionContainerIndexes(RDL.getTemplateFromSkin(o),a);a&&a.length>0&&i&&i.length>0&&a.forEach(function(e){var t=i.find(function(t){return t.sectionCode==e.sectionTypeCD});t&&(e.sectionContainerIndex=t.value)});var n=I.DocumentHelper.updateDocumentSkinandStyles(e.state.Document,o,RDL.getTemplateFromSkin),r=n.docStyles.find(function(e){return e.styleTypeCD==U.styleTypeCD.PGSZ});RDL.isINTL&&!RDL.isMX&&r&&(r.value="A4"),window.RDL.intlPhotoSkins&&window.RDL.intlPhotoSkins.indexOf(o)>-1&&!window.RDL.isFR?(0,H.addNewStepAfterFromStart)("selectresume","uploadphoto"):window.RDL.isINTL&&(0,H.removeStepByName)("uploadphoto");var l=I.DocumentHelper.GetOrderedSectionsArray(a,["ALNK"]);l&&l.length>0?n.sections=l:n.sections=a,e.setState({Document:n,skinCD:o,formatTemplateText:"",paperSize:r?r.value.toLowerCase():"a4",isTemplateOptionsVisible:!1,isFormatOptionsVisible:!1,isCustomFormatOptionsVisible:!1},function(){e.scrollToTop(),window.RDL.isINTL&&e.handleChangeFormatting(t,"Normal")}),e.props.documentActions.UpdateDocument(e.props.User.UserUID,n);var c=RDL.Skins.find(function(e){return e.id==o});c&&(window.RDL.TrackEvents("template selected",{"template name":c.name.toLowerCase()},null,I.CommonHelper.isLoggedInUser(window.RDL.UserClaims)),e.setState({activeSkin:c.name}))}setTimeout(function(){I.CommonHelper.overlayDynamicWidth()},300)},this.onFormattingChange=function(t){var o=I.DocumentHelper.updateDocumentWithDocStyles(e.state.Document,t);e.setState({document:o}),e.props.documentActions.updateDocStyle(e.props.User.UserUID,e.state.Document.id,t)},this.onSliderChanging=function(t){var o=I.DocumentHelper.updateDocumentWithDocStyles(e.state.Document,t);e.setState({document:o})},this.onFontClick=function(t){var o=JSON.parse(JSON.stringify(e.state.Document.docStyles)),s=(0,v.updateFont)(t.value,e.state.Document,o);e.setState({document:s}),e.props.documentActions.updateDocStyle(e.props.User.UserUID,e.state.Document.id,o)},this.resumeNameEdit=function(){window.RDL.BuilderUsageTrackEvents("clicked","finalize",null,I.CommonHelper.isLoggedInUser(window.RDL.UserClaims),"edit document name"),e.editedResumeName=e.state.resumeName.value,e.setState({resumeNameEdit:!0})},this.cancelResumeName=function(){e.setState({resumeNameEdit:!1,resumeNameValidation:"",resumeName:d({},e.state.resumeName,{value:e.editedResumeName})})},this.txtOnChange=function(t){t.target.name==e.state.resumeName.name?e.setState({resumeName:d({},e.state.resumeName,{value:t.target.value})}):t.target.name==e.state.documentName.name?e.setState({documentName:d({},e.state.documentName,{value:t.target.value})}):t.target.name==e.state.downloadResumeName.name&&e.setState({downloadResumeName:d({},e.state.downloadResumeName,{value:t.target.value})})},this.updateResumeNameEdit=function(t){var o=e.state.resumeName.value;""!=o.trim()?/^[a-zA-Z0-9_ ]+$/.test(o)?o.trim()==e.state.Document.name?e.cancelResumeName():e.props.documentActions.getLightWeightDocuments(e.props.User.UserUID,RDL.PortalSettings.ConfigurePortal,U.documentTypeCD).then(function(t){t&&t.length>0&&void 0!=t.find(function(e){return e.name.toLowerCase()==o.toLowerCase()})?e.setState({resumeNameValidation:RDL.Localization.alrdyHvRsm_Text}):(e.state.Document.name=o,e.props.documentActions.UpdateDocument(e.props.User.UserUID,e.state.Document),e.setState({resumeNameEdit:!1,resumeNameValidation:""}))}):e.setState({resumeNameValidation:RDL.Localization.specialChar2Validation_Text}):e.setState({resumeNameValidation:RDL.Localization.renameValidation_Text.replace("0",RDL.Localization.CV_Text)})},this.openMoreOption=function(){window.RDL.BuilderUsageTrackEvents("clicked","finalize",null,I.CommonHelper.isLoggedInUser(window.RDL.UserClaims),"more options"),e.state.isToggleMoreOption?document.removeEventListener("click",e.handleOutsideClick,!1):document.addEventListener("click",e.handleOutsideClick,!1),e.setState({isToggleMoreOption:!e.state.isToggleMoreOption})},this.closeMoreOption=function(t){t&&(t.preventDefault(),t.stopPropagation()),document.removeEventListener("click",e.handleOutsideClick,!1),e.setState({isToggleMoreOption:!1})},this.handleOutsideClick=function(t){t.target.classList.contains("js-link")||e.setState({isToggleMoreOption:!1})},this.renameResumeKeyPress=function(t){13==(t.which||t.keyCode)&&(t.preventDefault(),t.stopPropagation(),e.updateResumeNameEdit(t))},this.onSaveandNextClick=function(t){if(window.RDL.BuilderUsageTrackEvents("clicked","finalize",null,I.CommonHelper.isLoggedInUser(window.RDL.UserClaims),"save and next"),t.preventDefault(),null!=e.state.isPremiumUser&&void 0!=e.state.isPremiumUser){RDL.startPageLoader();var o="";if(e.state.isPremiumUser)o=RDL.Paths.BaseUrl;else if(RDL.isLCA||RDL.isWhiteLabel)o=RDL.Paths.SellPageUrl+"&docid="+e.props.Document.id;else if(RDL.isMPR&&I.CommonHelper.isCountryUS(window.RDL.countryDetails.countryCode,window.RDL.isINTL)&&!isIPAD()&&RDL.PortalExperiments.mprResumeCheckInterstitial){var s=RDL.Paths.SellPageUrl+"?docid="+e.props.Document.id+"&from=FRtoSell";e.conductResumeCheckInterstitialExperiment(s)}else(RDL.isMPROrMPCL||window.RDL.isINTL||RDL.isHLM)&&(o=RDL.Paths.SellPageUrl+"?docid="+e.props.Document.id+"&from=FRtoSell");e.redirectToUrlAndExitBuilder(o)}},this.conductResumeCheckInterstitialExperiment=function(t,o){var s=getExperimentVariant(RDL.PortalExperiments.mprResumeCheckInterstitial);RDL.PortalExperiments.mprResumeCheckInterstitial&&0==s?e.props.userActions.ConductExperimentV2(e.props.User.UserUID,RDL.PortalExperiments.mprResumeCheckInterstitial.id,RDL.PortalExperiments.mprResumeCheckInterstitial.logTraits,RDL.PortalExperiments.mprResumeCheckInterstitial.conductForOldUsers,RDL.PortalExperiments.mprResumeCheckInterstitial.includeIterableIntegration).then(function(s){s.data&&!isNaN(s.data.variant)&&s.data.variant>=1&&(5==s.data.variant?(e.setResumeCheckInterstitialData(!1,o),e.htmlClassList.add("f-resume-check-interstitial"),t=""):t+="&erc="+s.data.variant),e.redirectToUrlAndExitBuilder(t,o)}).catch(function(s){e.redirectToUrlAndExitBuilder(t,o)}):s>0&&(t+="&erc="+s,e.redirectToUrlAndExitBuilder(t,o))},this.setResumeCheckInterstitialData=function(t,o){t&&e.resumeCheckInterstitial&&e.resumeCheckInterstitial.setResumeCheckInterstitialData&&e.resumeCheckInterstitial.setResumeCheckInterstitialData(!t,t),setTimeout(function(){e.props.documentActions.getResumeReviewDetails(e.props.User.UserUID,e.props.Document.id).then(function(s){RDL.closePageLoader(),s&&s.score&&s.groups&&e.resumeCheckInterstitial&&e.resumeCheckInterstitial.setResumeCheckInterstitialData&&e.resumeCheckInterstitial.setResumeCheckInterstitialData(!t,t,s.score,s.groups,o)})},1e3)},this.checkVariantAndShowCompactResumeCheck=function(t){var o=getExperimentVariant(RDL.PortalExperiments.mprResumeCheckInterstitial);!RDL.isMPR||isIPAD()||5!=o||e.state.isPremiumUser||e.props.userActions.IsPremiumUser(e.props.User.UserUID,window.RDL.PortalSettings.ConfigureProductId).then(function(o){o||(e.setResumeCheckInterstitialData(!0),t&&e.htmlClassList.add("f-resume-check-interstitial"))})},this.onResumeCheckInterstitialPopupClose=function(){e.checkVariantAndShowCompactResumeCheck()},this.onResumeCheckInterstitialPopupContinue=function(t){var o="",s=getExperimentVariant(RDL.PortalExperiments.mprResumeCheckInterstitial);RDL.isLCA||RDL.isWhiteLabel?(o=t?RDL.Paths.SellPageUrl+"&docid="+e.props.Document.id+"&doctype="+t+"&from=htmldownload":RDL.Paths.SellPageUrl+"&docid="+e.props.Document.id,t=null):(RDL.isMPROrMPCL||window.RDL.isINTL||RDL.isHLM)&&(o=t?RDL.Paths.SellPageUrl+"?docid="+e.props.Document.id+"&doctype="+t+"&from=htmldownload":RDL.Paths.SellPageUrl+"?docid="+e.props.Document.id+"&from=FRtoSell"),""!=o&&s>0&&(o+="&erc="+s),e.redirectToUrlAndExitBuilder(o,t)},this.redirectToUrlAndExitBuilder=function(t,o){if(""!=t){if(o){var s=e.props.User.UserUID+"#"+e.props.Document.id+"#final-resume#"+o+"##";window.RDL.createCookie("AutoDownload",s,0)}window.RDL.TrackEvents("exit builder",{"exit page path":t},null,I.CommonHelper.isLoggedInUser(window.RDL.UserClaims)),RemoveSelectedIndustryFromLocalStorage(),setTimeout(function(){window.location=t},10)}},this.onBodyClick=function(t){e.state.showPaperOptions&&t.currentTarget&&t.currentTarget.activeElement&&"link paper-size"!=t.currentTarget.activeElement.className&&e.setState({showPaperOptions:!1})},this.openDuplicateModal=function(){var t=RDL.Localization.cpyOf_Text+e.state.resumeName.value;e.setState({isToggleMoreOption:!1,popupName:U.POPUP_NAME.duplicateResume,showPopup:!0,documentName:d({},e.state.documentName,{value:t})})},this.closeDuplicateModal=function(){e.setState({duplicateResumeNameValidation:"",popupName:"",showPopup:!1,documentName:d({},e.state.documentName,{value:""})})},this.duplicateResume=function(){window.RDL.BuilderUsageTrackEvents("clicked","finalize",null,I.CommonHelper.isLoggedInUser(window.RDL.UserClaims),"duplicate"),e.state.documentName.value?/^[a-zA-Z0-9_ ]+$/.test(e.state.documentName.value)?e.props.documentActions.getUserDocuments(e.props.User.UserUID,RDL.PortalSettings.ConfigurePortalCd).then(function(t){t&&t.length>0&&void 0!=t.find(function(t){return t.name.toLowerCase()==e.state.documentName.value.toLowerCase()})?e.setState({duplicateResumeNameValidation:RDL.Localization.alrdyHvRsm_Text}):(e.setState({popupName:"",showPopup:!1}),RDL.startPageLoader(),e.props.documentActions.duplicateResume(e.props.User.UserUID,e.props.Document.id,e.state.documentName.value).then(function(t){window.RDL.createCookie("DocumentID",t.id),RDL.closePageLoader(),e.setState({duplicateResumeNameValidation:"",documentName:d({},e.state.documentName,{value:""}),resumeName:d({},e.state.resumeName,{value:t.name})})}))}):e.setState({duplicateResumeNameValidation:RDL.Localization.specialChar2Validation_Text}):e.setState({duplicateResumeNameValidation:RDL.Localization.finalDupResumeErr2})},this.openShareModal=function(){e.setState({isToggleMoreOption:!1,showPopup:!0,popupName:U.POPUP_NAME.socialShare})},this.closeShareModal=function(){e.setState({showPopup:!1,popupName:""})},this.shareResumeToFacebook=function(){window.RDL.BuilderUsageTrackEvents("clicked","finalize",null,I.CommonHelper.isLoggedInUser(window.RDL.UserClaims),"share");var t=RDL.PortalSettings.ShareResumeURL,o=window.RDL.styleSheetName;RDL.isMultiColumnSkin(e.state.skinCD)&&(o=window.RDL.multiColumnStyleSheetName);var s=t+"?userid="+e.props.User.UserUID+"&docid="+e.props.Document.id+"&styleName="+o,a="I just created my #resume using "+RDL.PortalSettings.ConfigurePortalName+"'s online resume builder.",i=e.state.resumeName,n="https://www.facebook.com/sharer/sharer.php?u="+encodeURIComponent(s)+"&t="+encodeURIComponent(i)+"&s="+encodeURIComponent(a);e.closeShareModal(),window.open(n,"FacebookShare","menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600")},this.shareResumeToLinkedIn=function(){window.RDL.BuilderUsageTrackEvents("clicked","finalize",null,I.CommonHelper.isLoggedInUser(window.RDL.UserClaims),"share");var t=RDL.PortalSettings.ShareResumeURL,o=window.RDL.styleSheetName;RDL.isMultiColumnSkin(e.state.skinCD)&&(o=window.RDL.multiColumnStyleSheetName);var s=t+"?userid="+e.props.User.UserUID+"&docid="+e.props.Document.id+"&styleName="+o,a="I just created my resume online using "+RDL.PortalSettings.ConfigurePortalName,i=e.state.resumeName,n="https://www.linkedin.com/shareArticle?mini=true&url="+encodeURIComponent(s)+"&title="+encodeURIComponent(i)+"&summary="+encodeURIComponent(a)+"&source="+encodeURIComponent(t);e.closeShareModal(),window.open(n,"LinkedInShare","menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600")},this.shareResumeToTwitter=function(){window.RDL.BuilderUsageTrackEvents("clicked","finalize",null,I.CommonHelper.isLoggedInUser(window.RDL.UserClaims),"share");var t=RDL.PortalSettings.ShareResumeURL,o=window.RDL.styleSheetName;RDL.isMultiColumnSkin(e.state.skinCD)&&(o=window.RDL.multiColumnStyleSheetName);var s=t+"?userid="+e.props.User.UserUID+"&docid="+e.props.Document.id+"&styleName="+o,a="I just created my #resume online using @"+RDL.PortalSettings.ConfigurePortalName,i="//twitter.com/home?status="+encodeURIComponent(a+"\n")+encodeURIComponent(s);e.closeShareModal(),window.open(i,"TwitterShare","menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600")},this.openDeleteResumeModal=function(){e.setState({isToggleMoreOption:!1,showPopup:!0,popupName:U.POPUP_NAME.deleteResume})},this.closeDeleteResumeModal=function(){e.setState({showPopup:!1,popupName:""})},this.deleteResume=function(){window.RDL.BuilderUsageTrackEvents("clicked","finalize",null,I.CommonHelper.isLoggedInUser(window.RDL.UserClaims),"delete"),e.closeDeleteResumeModal(),RDL.startPageLoader(),e.props.documentActions.DeleteDocument(e.props.User.UserUID,e.props.Document.id).then(function(e){RDL.closePageLoader(),window.RDL.TrackEvents("exit builder",{"exit page path":RDL.Paths.BaseUrl},null,I.CommonHelper.isLoggedInUser(window.RDL.UserClaims)),RemoveSelectedIndustryFromLocalStorage(),setTimeout(function(){window.location=RDL.Paths.BaseUrl},10),sessionStorage.removeItem("isCalledFromFinalize")})},this.navigateToSectionPage=function(t,o,s){if(t==I.TypeCodes.sectionTypeCd.Name){var a=I.CommonHelper.getSectionByCD(e.state.Document.sections,I.TypeCodes.sectionTypeCd.Contact);a&&a.id&&(t=I.TypeCodes.sectionTypeCd.Contact,o=a.id,s=a.paragraphs.length?a.paragraphs[0].id:void 0)}var i=U.Finalize_Section_Click_Option.find(function(e){return e.name==t});i&&window.RDL.BuilderUsageTrackEvents("clicked","finalize",null,I.CommonHelper.isLoggedInUser(window.RDL.UserClaims),i.value),e.props.history.push(H.ROUTING_PATH.SECTIONS+t+(o?"/"+o:"")+(s?"/"+s:""))},this.openDeleteSectionsPopup=function(t,o){e.setState({showPopup:!0,popupName:U.POPUP_NAME.deleteSection,deleteSelectedSection:t,deleteSelectedParagraph:o,isSectionDelete:!o})},this.closeDeleteSectionModal=function(){e.setState({deleteSelectedSection:{},deleteSelectedParagraph:{},showPopup:!1,popupName:""}),RDL.closePageLoader()},this.deleteSection=function(t){var o=I.DocumentHelper.removeSection(e.state.Document,e.state.deleteSelectedSection.id);if(e.state.deleteSelectedSection.sectionTypeCD==I.TypeCodes.sectionTypeCd.Personal_Data){var s=I.CommonHelper.getSectionByCD(o.sections,I.TypeCodes.sectionTypeCd.Signature);s&&(o=I.DocumentHelper.removeSection(o,s.id))}e.props.documentActions.UpdateDocument(e.props.User.UserUID,o),e.setState({Document:o,deleteSelectedSection:{},deleteSelectedParagraph:{},showPopup:!1,popupName:""}),e.checkVariantAndShowCompactResumeCheck(!0),e.state.deleteSelectedSection.sectionTypeCD==I.TypeCodes.sectionTypeCd.Experience?(e.sendCurrentEmployementTrait(null),e.saveLatestJobTitlePreference(null),e.setLatestJobTitleForTTC(null),e.saveBestMatchedJobDetails(null)):e.state.deleteSelectedSection.sectionTypeCD==I.TypeCodes.sectionTypeCd.Education&&(0,E.setLatestEducationTrait)(I.CommonHelper.getSectionByCD(o.sections,I.TypeCodes.sectionTypeCd.Education),e.props.User.UserUID)},this.deleteParagraph=function(t,o){var s=I.DocumentHelper.removeParagraph(e.state.Document,e.state.deleteSelectedSection.id,e.state.deleteSelectedParagraph.id);e.props.documentActions.UpdateDocument(e.props.User.UserUID,s),e.setState({Document:s,deleteSelectedSection:{},deleteSelectedParagraph:{},showPopup:!1,popupName:""}),e.checkVariantAndShowCompactResumeCheck(!0),e.state.deleteSelectedSection.sectionTypeCD==I.TypeCodes.sectionTypeCd.Experience?(e.sendCurrentEmployementTrait(s),e.saveLatestJobTitlePreference(s),e.setLatestJobTitleForTTC(s),e.saveBestMatchedJobDetails(s)):e.state.deleteSelectedSection.sectionTypeCD==I.TypeCodes.sectionTypeCd.Education&&(0,E.setLatestEducationTrait)(I.CommonHelper.getSectionByCD(s.sections,I.TypeCodes.sectionTypeCd.Education),e.props.User.UserUID)},this.deleteSectionOrParagraph=function(){e.state.deleteSelectedParagraph?e.deleteParagraph(e.state.deleteSelectedSection.id,e.state.deleteSelectedParagraph.id):e.deleteSection(e.state.deleteSelectedSection.id)},this.onSectionEdit=function(t,o){"PICT"==t.sectionTypeCD?e.props.history.push(H.ROUTING_PATH.UPLOAD_PHOTO):("PRFL"==t.sectionTypeCD&&(t=e.state.Document.sections.find(function(e){return e.sectionTypeCD==I.TypeCodes.sectionTypeCd.Name}))&&t.paragraphs&&(o=t.paragraphs[0]),e.navigateToSectionPage(t.sectionTypeCD,t.id,o.id))},this.onSpellCheckCancel=function(){e.setState({spellCheck:Object.assign({},U.spellCheckData),accordionActiveTab:""})},this.onSpellCheckClick=function(){if(window.RDL.BuilderUsageTrackEvents("clicked","finalize",null,I.CommonHelper.isLoggedInUser(window.RDL.UserClaims),"spell check"),1!=e.state.spellCheck.isClicked){document.getElementById("resumeLoader").classList.remove("d-none");var t=window.RDL.styleSheetName;RDL.isMultiColumnSkin(e.state.skinCD)&&(t=window.RDL.multiColumnStyleSheetName),e.props.documentActions.exportDocument(e.props.User.UserUID,e.props.Document.id,window.RDL.PortalSettings.ConfigurePortal,"HTML","eXPT",t,"true").then(function(t){if(t&&t.textData){var o=t.textData;e.setState({spellCheck:d({},e.state.spellCheck,{isClicked:!0,documentToCheck:o})},function(){document.getElementById("resumeLoader").classList.add("d-none"),e.props.showfinalizeV2?e.processSpellCheck(!1):e.postSpellCheckText(!1,null)})}})}},this.processSpellCheck=function(t){var o=d({},e.props.Document),s=o.sections,a=[];s.forEach(function(e){e.paragraphs.length>0&&e.paragraphs.forEach(function(t){t.docDatas.forEach(function(o){0==I.CommonHelper.isNullOrWhitespace(o.charValue)&&"EMAI"!=o.fieldCD&&"PURL"!=o.fieldCD&&"PICT"!=o.fieldCD&&a.push({docDataValue:o.charValue,sectionId:e.id,paragraphId:t.id,docDataId:o.id})})})});var i="";a.forEach(function(e){i+=e.docDataValue+" #$# "}),e.postSpellCheckText(t,i)},this.updateBadWordsCount=function(t){e.state.badWordsSpellCount!=t&&e.setState({badWordsSpellCount:t})},this.postSpellCheckText=function(t,o){var s="";s=t||!I.CommonHelper.isNullOrWhitespace(o)?o:e.spellCheck&&e.spellCheck.escapeElementsFromSpellCheck?e.spellCheck.escapeElementsFromSpellCheck():document.querySelector("[id='document']").textContent,z.ContentAjaxHelper.postSpellCheckText(s,window.RDL.PortalSettings.ConfigurePortalCd).then(function(o){if(o){var s=o.flaggedTokens;if(s&&s.length>0){var a=[];s.forEach(function(e,t){if(a.findIndex(function(t){return t==e.token})<0){var o={badWord:e.token,suggestions:e.suggestions};a.push(o)}}),e.setState({spellCheck:d({},e.state.spellCheck,{badWordsWithSuggestions:a}),badWordsSpellCount:a.length})}else e.setState({badWordsSpellCount:0}),t||e.onNoSpellCheckSuggestionsFound()}})},this.updateDocumentOnSpellCheck=function(t){I.CommonHelper.isNullOrWhitespace(t)||(e.scrollToTop(),e.props.documentActions.updateResumeFromHtmlDoc(t,e.props.User.UserUID,e.props.Document.id).then(function(t){t&&e.props.documentActions.GetDocument(e.props.User.UserUID,e.props.Document.id,!1,window.RDL.PortalSettings.ConfigurePortalCd).then(function(t){null!=t&&void 0!=t&&e.setState({spellCheck:Object.assign({},U.spellCheckData)},function(){document.getElementById("resumeLoader").classList.add("d-none"),e.openSpellCheckNotification(window.RDL.Localization.spellCheckComplete_Text)})})}))},this.onNoSpellCheckSuggestionsFound=function(){e.setState({spellCheck:d({},e.state.spellCheck,{isClicked:!1}),badWordsSpellCount:0}),e.resetAccordion(),e.openSpellCheckNotification(window.RDL.Localization.nomistake)},this.openSpellCheckNotification=function(t){e.setState({spellCheckNotification:{isOpen:!0,message:t}},function(){setTimeout(function(){e.setState({spellCheckNotification:{isOpen:!1,message:t}})},1e3)})},this.onResumeCheckClick=function(){e.props.showfinalizeV2&&e.toggleAccordion("ResumeCheck"),window.RDL.TrackEvents("builder clicks",{"builder type":"resumes",section:"header","click option":"resumecheck"},null,I.CommonHelper.isLoggedInUser(window.RDL.UserClaims)),e.props.resumeCheckFeaturePopUp?(e.htmlClassList.contains("feature-resume-check")||e.htmlClassList.add("feature-resume-check"),e.setState({showResumeCheckFeature:!0,showResumeCheckCancelbutton:!1})):(e.openResumeCheckModal(),e.props.documentActions.GetResumeCheckResult(e.props.User.UserUID,e.state.Document.id,window.RDL.PortalSettings.ConfigurePortal).then(function(t){var o=[],s=[],a=t.score;o=t.result.filter(function(e){return 1==e.ruleResult}),s=t.result.filter(function(e){return 0==e.ruleResult});var i="img-score img-score-"+a;e.setState({ResumeCheckWenWell:o,ResumeCheckImprovement:s,ResumeScore:a,ResumeScoreClass:i}),document.getElementById("screenLoader").classList.add("d-none"),document.getElementById("screenScore").classList.remove("d-none")}))},this.openResumeCheckModal=function(){e.setState({showPopup:!0,popupName:U.POPUP_NAME.resumeCheck})},this.closeResumeCheckModal=function(){e.setState({showPopup:!1,popupName:"",accordionActiveTab:""})},this.changePaperSize=function(t){t.stopPropagation();var o=!e.state.showPaperOptions;e.setState({showPaperOptions:o})},this.changePaperA4=function(){"a4"!=e.state.paperSize?e.updatePaperSizeStyleInDocument("A4"):e.setState({showPaperOptions:!1})},this.changePaperLetter=function(){"letter"!=e.state.paperSize?e.updatePaperSizeStyleInDocument("Letter"):e.setState({showPaperOptions:!1})},this.updatePaperSizeStyleInDocument=function(t){var o=JSON.parse(JSON.stringify(e.state.Document.docStyles));o.find(function(e){return e.styleTypeCD==U.styleTypeCD.PGSZ}).value=t;var s=I.DocumentHelper.updateDocumentWithDocStyles(e.state.Document,o);e.props.documentActions.updateDocStyle(e.props.User.UserUID,e.state.Document.id,o),e.setState({document:s,showPaperOptions:!1,paperSize:t.toLowerCase()})},this.closeResumeCheckFeatureModal=function(){e.setState({showResumeCheckFeature:!1})},this.onResumeCheckFeatureCancelClick=function(){e.setState({showResumeCheckFeature:!1}),e.openDownloadModal(null,!0)},this.getResumeCheckActivityList=function(){return e.props.documentActions.getResumeReviewGroups(e.props.User.UserUID,e.props.Document.id,e.props.resumeCheckTargetedJob,e.isResumeCheckTitlePresent)},this.onResumeCheckFixResumeClick=function(){var t=window.RDL.Paths.ResumeCheckUrl+"?docid="+e.props.Document.id;window.RDL.TrackEvents("exit builder",{"exit page path":t},null,I.CommonHelper.isLoggedInUser(window.RDL.UserClaims)),RemoveSelectedIndustryFromLocalStorage(),setTimeout(function(){window.location=t},10)},this.addSec=function(){window.RDL.BuilderUsageTrackEvents("clicked","finalize",null,I.CommonHelper.isLoggedInUser(window.RDL.UserClaims),"add a section"),e.props.history.push((0,H.GetNextBackUrl)("addsection").currentUrl)},this.checkPreferenceAndOpenTemplateDrawer=function(){if(!window.RDL.isINTL&&!window.RDL.ShowResumeCheck){(0,_.GetUserPreferenceValue)(e.props.User,U.UserPreferenceConstant.UserPreferenceFinalizeOpened)?e.Open_Template_Drawer=!1:e.props.isWelcomeBackShown?e.props.userActions.SaveUserPreference(e.props.User.UserUID,U.UserPreferenceConstant.UserPreferenceFinalizeOpened,U.UserPreferenceConstant.Finalize,window.RDL.PortalSettings.ConfigurePortalCd):e.props.userActions.GetUserPreference(e.props.User.UserUID).then(function(t){var o=!1;t&&t.forEach(function(e){if(e.code==U.UserPreferenceConstant.UserPreferenceFinalizeOpened)return void(o=!0)}),o||(e.Open_Template_Drawer&&e.openCloseTemplateDropdown(null),e.props.userActions.SaveUserPreference(e.props.User.UserUID,U.UserPreferenceConstant.UserPreferenceFinalizeOpened,U.UserPreferenceConstant.Finalize,window.RDL.PortalSettings.ConfigurePortalCd))})}},this.saveLatestJobTitlePreference=function(t){var o="";if(t&&t.sections){var s=I.CommonHelper.getSectionByCD(t.sections,I.TypeCodes.sectionTypeCd.Experience);s&&(o=(0,T.getLatestJobTitle)(s.paragraphs,e.props.User.UserUID))}e.props.userActions.SaveUserPreference(e.props.User.UserUID,U.UserPreferenceConstant.PreferenceJobtitle,o,window.RDL.PortalSettings.ConfigurePortalCd)},this.sendCurrentEmployementTrait=function(t){var o=null;if(t&&t.sections){var s=I.CommonHelper.getSectionByCD(t.sections,I.TypeCodes.sectionTypeCd.Experience);s&&(o=s.paragraphs)}(0,T.setCurrentEmployment)(o,e.props.User.UserUID)},this.setLatestJobTitleForTTC=function(t){var o="";if(t&&t.sections){var s=I.CommonHelper.getSectionByCD(t.sections,I.TypeCodes.sectionTypeCd.Experience);s&&(o=(0,T.getLatestJobTitle)(s.paragraphs,e.props.User.UserUID))}e.props.commonActions.setJobTitle(o)},this.saveWorkHistorySortedDocPreference=function(){if(-1==e.state.Document.preferences.findIndex(function(e){return e.docPreferenceTypeCD==U.DocumentPreferenceConstant.WorkHistorySorted})){var t=[{docId:0,docPrefId:0,docPreferenceTypeCD:U.DocumentPreferenceConstant.WorkHistorySorted,documentID:e.state.Document.id,id:"",value:"1"}];e.props.documentActions.updateDocPrefrence(e.props.User.UserUID,e.state.Document.id,t)}},this.saveBestMatchedJobDetails=function(t){var o="",s=e.props.User.UserUID,a=e.props.Document.id;if(t&&t.sections&&(RDL.isLCA||RDL.isMPR)){var i=I.CommonHelper.getSectionByCD(t.sections,I.TypeCodes.sectionTypeCd.Experience);i&&(o=(0,T.getLatestJobTitle)(i.paragraphs,s)),I.CommonHelper.isNullOrWhitespace(s)||I.CommonHelper.isNullOrWhitespace(a)||I.CommonHelper.isNullOrWhitespace(o)||setTimeout(function(){e.props.documentActions.saveBestMatchedJobDetails(s,a,o)},window.RDL.BestJobMatchDelayTime)}},this.scrollToTop=function(){RDL.AnimateToPosition(0)},this.getColorForColorSelector=function(){var t="";if(e.colorPickerHover)t=e.documentColor;else if(t=(0,_.GetDocStyleValue)(e.state.Document.docStyles,U.styleTypeCD.SDCL),!I.CommonHelper.isNullOrWhitespace(t)){var o=j.ColorSelectorColors.findIndex(function(e){return e.value.toLowerCase()==t.toLowerCase()});-1==o&&(t="")}return t},this.onColorPickerMouseEnter=function(t){e.colorPickerHover=!0;var o=t.currentTarget.getAttribute("data-color"),s=JSON.parse(JSON.stringify(e.state.Document));if(e.documentColor=(0,_.GetDocStyleValue)(e.props.Document.docStyles,U.styleTypeCD.SDCL),!I.CommonHelper.isNullOrWhitespace(e.documentColor)){-1==j.ColorSelectorColors.findIndex(function(t){return t.value.toLowerCase()==e.documentColor.toLowerCase()})&&(e.documentColor="")}s=(0,_.manageDocStyles)(s,U.styleTypeCD.SDCL,o,RDL.getTemplateFromSkin),e.setState({Document:s})},this.onColorPickerMouseLeave=function(t){e.colorPickerHover=!1;var o=JSON.parse(JSON.stringify(e.state.Document));o=(0,_.manageDocStyles)(o,U.styleTypeCD.SDCL,e.documentColor,RDL.getTemplateFromSkin),e.setState({Document:o})},this.onSkinColorSelected=function(t){e.colorPickerHover=!1;var o=t.currentTarget.getAttribute("data-color"),s=t.currentTarget.getAttribute("data-label"),a=JSON.parse(JSON.stringify(e.state.Document));a=(0,_.manageDocStyles)(a,U.styleTypeCD.SDCL,o,RDL.getTemplateFromSkin),e.props.documentActions.UpdateDocument(e.props.User.UserUID,a),e.documentColor=o,e.setState({Document:a}),I.CommonHelper.isNullOrWhitespace(o)&&(s="default"),window.RDL.TrackEvents("color picker",{action:"clicked","click option":s,"click location":"builder"},null,I.CommonHelper.isLoggedInUser(window.RDL.UserClaims))},this.openCloseColorSelector=function(t){t&&t.stopPropagation(),window.RDL.BuilderUsageTrackEvents("clicked","finalize",null,I.CommonHelper.isLoggedInUser(window.RDL.UserClaims),"color picker"),e.state.isColorPickerVisible?document.removeEventListener("click",e.handleOutsideTemplateClick,!1):document.addEventListener("click",e.handleOutsideTemplateClick,!1),e.setState({isColorPickerVisible:!e.state.isColorPickerVisible,isTemplateOptionsVisible:!1,isFormatOptionsVisible:!1,isCustomFormatOptionsVisible:!1})},this.onGetJobsClicked=function(t){var o={"Insider Tips Permission SMS":"TRUE","Job Alerts Permission SMS":"TRUE","Marketing Permission SMS":"TRUE",phone:t};window.RDL.TrackEvents("identify",o,e.props.User.UserUID,!0);var s=[{code:"JBAS",response:1},{code:"RJTS",response:1}];e.props.userActions.SaveUserOptins(e.props.User.UserUID,s);var a=Object.assign({},e.props.User);a.MobileNumber=t,e.props.userActions.UpdatetUser(a,!0)},this.showDeleteInDragDisableSections=function(){var t=void 0;return window.RDL.isINTL&&("MLF5"!=e.state.skinCD&&"MLF2"!=e.state.skinCD&&"MLI6"!=e.state.skinCD&&"MLJ8"!=e.state.skinCD&&"MLJ1"!=e.state.skinCD&&"MLJ4"!=e.state.skinCD&&"MLJ7"!=e.state.skinCD||(t=["SUMM"])),t},this.onEdit=function(t,o){o=o||{},t&&t.id&&("PICT"==t.sectionTypeCD?e.props.history.push(H.ROUTING_PATH.UPLOAD_PHOTO):("PRFL"==t.sectionTypeCD&&(t=e.state.Document.sections.find(function(e){return e.sectionTypeCD==I.TypeCodes.sectionTypeCd.Name}))&&t.paragraphs&&(o=t.paragraphs[0]),e.navigateToSectionPage(t.sectionTypeCD,t.id,o.id)))},this.reorderSections=function(t){var o=Object.assign({},e.state.Document),s=JSON.parse(JSON.stringify(o.sections));if(o.sections=t,e.props.documentActions.UpdateDocument(e.props.User.UserUID,o),s&&t){var a=I.CommonHelper.getSectionByCD(s,I.TypeCodes.sectionTypeCd.Experience),i=I.CommonHelper.getSectionByCD(t,I.TypeCodes.sectionTypeCd.Experience);a&&i&&JSON.stringify(a.paragraphs)!=JSON.stringify(i.paragraphs)&&(e.saveLatestJobTitlePreference(o),e.setLatestJobTitleForTTC(o),e.saveBestMatchedJobDetails(o),e.saveWorkHistorySortedDocPreference())}},this.onPrintClick=function(){if(window.RDL.BuilderUsageTrackEvents("clicked","finalize",null,I.CommonHelper.isLoggedInUser(window.RDL.UserClaims),"print"),null!=e.state.isPremiumUser&&void 0!=e.state.isPremiumUser)if(e.state.isPremiumUser)RDL.startPageLoader(),e.getPrintPreview();else if(RDL.isLCA||RDL.isWhiteLabel){var t=RDL.Paths.SellPageUrl+"&docid="+e.props.Document.id+"&from=htmlprint";I.CommonHelper.redirectToUrl(t,I.CommonHelper.isLoggedInUser(window.RDL.UserClaims),window.RDL.TrackEvents)}else if(RDL.isMPROrMPCL||window.RDL.isINTL||RDL.isHLM){var o=RDL.Paths.SellPageUrl+"?docid="+e.props.Document.id+"&from=htmlprint";I.CommonHelper.redirectToUrl(o,I.CommonHelper.isLoggedInUser(window.RDL.UserClaims),window.RDL.TrackEvents)}},this.closePrintModal=function(){e.setState({showPopup:!1,popupName:""})},this.printResume=function(){e.Download("PDF",!0)},this.navigateToPrintPage=function(e){for(var t=e.currentTarget.getAttribute("data-tab"),o=document.getElementsByClassName("tab-pane").length,s=0;s<o;s++)document.getElementsByClassName("tab-pane")[s].classList.add("d-none"),document.getElementsByClassName("nav-link")[s].classList.remove("active");e.currentTarget.classList.add("active"),document.querySelector("#"+t).classList.remove("d-none")},this.getPrintPreview=function(){var t=window.RDL.styleSheetName;RDL.isMultiColumnSkin(e.state.skinCD)&&(t=window.RDL.multiColumnStyleSheetName);var o={userId:e.props.User.UserUID,documentId:e.props.Document.id,styleSheetName:t};e.props.documentActions.previewDocument(o).then(function(t){e.setState({previewImages:t,showPopup:!0,popupName:U.POPUP_NAME.printPreviewResume},function(){RDL.closePageLoader()})})},this.afterOpenPrintModal=function(){var e=window.innerHeight,t=window.innerWidth;document.getElementsByClassName("js-fullheight")[0].style.height=e-30+"px",e<=750?document.getElementsByClassName("js-privewHeight")[0].style.height="325px":t<=1024&&(document.getElementsByClassName("js-privewHeight")[0].style.height="494px")},this.onEmailClick=function(){e.setState({showPopup:!0,popupName:U.POPUP_NAME.emailFormat,selectedResumeFormat:"PDF",to:d({},e.state.to,{value:"",bShowError:!1}),from:d({},e.state.from,{value:e.getFromEmailName(),bShowError:!1}),subject:d({},e.state.subject,{value:e.state.resumeName.value,bShowError:!1})})},this.getFromEmailName=function(){var t=I.CommonHelper.getSectionByCD(e.state.Document.sections,I.TypeCodes.sectionTypeCd.Name),o="",s="";if(t&&t.paragraphs&&t.paragraphs.length>0&&t.paragraphs[0].docDatas.length>0){var a=t.paragraphs[0].docDatas;o=I.CommonHelper.getCharValue(a,I.TypeCodes.fieldCd.FirstName),s=I.CommonHelper.getCharValue(a,I.TypeCodes.fieldCd.LastName)}return o=o?o.charAt(0).toUpperCase()+o.slice(1).toLowerCase():"",s=s?s.charAt(0).toUpperCase()+s.slice(1).toLowerCase():"",""==o&&""==s?"":""==o||""==s?o+s:o+" "+s},this.onEmailFormChange=function(t){switch(t.target.name){case I.TypeCodes.fieldCd.Email:e.setState({to:d({},e.state.to,{value:t.target.value,bShowError:!1})});break;case I.TypeCodes.fieldCd.FROM:e.setState({from:d({},e.state.from,{value:t.target.value,bShowError:!1})});break;case I.TypeCodes.fieldCd.Subject:e.setState({subject:d({},e.state.subject,{value:t.target.value,bShowError:!1})});break;default:e.setState({emailBody:t.target.value})}},this.closeEmailForm=function(){e.setState({showPopup:!1,popupName:""})},this.openEmailModal=function(){if(window.RDL.BuilderUsageTrackEvents("clicked","finalize",null,I.CommonHelper.isLoggedInUser(window.RDL.UserClaims),"email"),"TXT"==e.state.selectedResumeFormat)e.setState({showPopup:!0,popupName:U.POPUP_NAME.email});else if(null!=e.state.isPremiumUser&&void 0!=e.state.isPremiumUser)if(e.state.isPremiumUser)e.setState({showPopup:!0,popupName:U.POPUP_NAME.email});else if(RDL.isLCA||RDL.isWhiteLabel){var t=RDL.Paths.SellPageUrl+"&docid="+e.props.Document.id+"&doctype="+e.state.selectedResumeFormat+"&from=htmlemail";I.CommonHelper.redirectToUrl(t,I.CommonHelper.isLoggedInUser(window.RDL.UserClaims),window.RDL.TrackEvents)}else if(RDL.isMPROrMPCL||window.RDL.isINTL||RDL.isHLM){var o=RDL.Paths.SellPageUrl+"?docid="+e.props.Document.id+"&doctype="+e.state.selectedResumeFormat+"&from=htmlemail";I.CommonHelper.redirectToUrl(o,I.CommonHelper.isLoggedInUser(window.RDL.UserClaims),window.RDL.TrackEvents)}},this.closeEmailModal=function(){e.setState({showPopup:!1,popupName:""})},this.onFormatSelected=function(t){e.setState({selectedResumeFormat:t.target.value})},this.emailResume=function(){if("TXT"==e.state.selectedResumeFormat)e.SendMail();else if(0==e.state.isPremiumUser){var t="";RDL.isLCA||RDL.isWhiteLabel?t=RDL.Paths.SellPageUrl+"&docid="+e.props.Document.id+"&doctype="+e.state.selectedResumeFormat+"&from=htmlemail":(RDL.isMPROrMPCL||window.RDL.isINTL||RDL.isHLM)&&(t=RDL.Paths.SellPageUrl+"?docid="+e.props.Document.id+"&doctype="+e.state.selectedResumeFormat+"&from=htmlemail"),window.RDL.TrackEvents("exit builder",{"exit page path":t},null,I.CommonHelper.isLoggedInUser(window.RDL.UserClaims)),RemoveSelectedIndustryFromLocalStorage(),setTimeout(function(){window.location=t},10)}else e.SendMail()},this.SendMail=function(){var t=!0;0==A.RequiredValidation(e.state.from.value).isValid&&(t=!1,e.setState({from:d({},e.state.from,{bShowError:!0})})),0==A.validateEmail(e.state.to.value).isValid&&(t=!1,e.setState({to:d({},e.state.to,{bShowError:!0})})),0==A.RequiredValidation(e.state.subject.value).isValid&&(t=!1,e.setState({subject:d({},e.state.subject,{bShowError:!0})}));var o="";RDL.isMultiColumnSkin(e.state.skinCD)&&(o=window.RDL.multiColumnStyleSheetName);var s={documentId:e.props.Document.id,userId:e.props.User.UserUID,portalId:window.RDL.PortalSettings.ConfigurePortal,fileFormatType:e.state.selectedResumeFormat,toEmail:e.state.to.value,displayName:e.state.from.value,subject:e.state.subject.value,mailBody:e.state.emailBody,styleSheetName:o,emailName:"EmailResume"};t&&(RDL.startPageLoader(),e.props.documentActions.emailResume(s).then(function(t){t?(e.setState({showPopup:!1,popupName:""}),e.openEmailSuccessModal()):(e.setState({showPopup:!1,popupName:""}),e.openEmailErrorModal())}))},this.openEmailSuccessModal=function(){RDL.closePageLoader(),e.setState({showPopup:!0,popupName:U.POPUP_NAME.emailSent})},this.closeEmailSuccesModal=function(){e.setState({showPopup:!1,popupName:""})},this.openEmailErrorModal=function(){RDL.closePageLoader(),e.setState({showPopup:!0,popupName:U.POPUP_NAME.error})},this.closeEmailErrorModal=function(){e.setState({showPopup:!1,popupName:""})},this.emailResumeAgain=function(){e.closeEmailSuccesModal(),e.setState({to:d({},e.state.to,{value:"",bShowError:!1}),from:d({},e.state.from,{value:e.getFromEmailName(),bShowError:!1}),subject:d({},e.state.subject,{value:e.state.resumeName.value,bShowError:!1})}),e.openEmailModal()},this.Download=function(t,o,s){s&&s.length>0&&(s=escape(s)),e.closeDownloadModal();var a=window.RDL.styleSheetName;if(RDL.isMultiColumnSkin(e.state.skinCD)&&(a=window.RDL.multiColumnStyleSheetName),"TXT"==t)e.setState({showPopup:!1,popupName:""}),e.setState({selectedResumeFormat:"PDF"}),e.props.documentActions.DownloadResume(e.props.User.UserUID,e.props.Document.id,window.RDL.PortalSettings.ConfigurePortal,t,"eXPT","RBtoText","true",o,s).then(function(e){window.location.href=e}),e.trackDownloadEvent(t);else if(o){var i=e.openCenteredWindow("",800,640,"location=No,scrollbars=Yes,toolbar=No,resizable=No,directories=No,status=No,menubar=No,hotkeys=No,center=Yes",!1,null);e.props.documentActions.DownloadResume(e.props.User.UserUID,e.props.Document.id,window.RDL.PortalSettings.ConfigurePortal,t,"eXPT",a,"true","true").then(function(e){i.location=e})}else if(e.state.isPremiumUser)e.setState({showPopup:!1,popupName:""}),e.props.documentActions.DownloadResume(e.props.User.UserUID,e.props.Document.id,window.RDL.PortalSettings.ConfigurePortal,t,"eXPT",a,"true",!1,s).then(function(e){e&&(window.location.href=e)}),e.trackDownloadEvent(t);else if(RDL.startPageLoader(),RDL.isLCA||RDL.isWhiteLabel){var n=RDL.Paths.SellPageUrl+"&docid="+e.props.Document.id+"&doctype="+t+"&from=htmldownload";I.CommonHelper.redirectToUrl(n,I.CommonHelper.isLoggedInUser(window.RDL.UserClaims),window.RDL.TrackEvents)}else if(RDL.isMPR&&I.CommonHelper.isCountryUS(window.RDL.countryDetails.countryCode,window.RDL.isINTL)&&!isIPAD()&&RDL.PortalExperiments.mprResumeCheckInterstitial){var r=RDL.Paths.SellPageUrl+"?docid="+e.props.Document.id+"&doctype="+t+"&from=htmldownload";e.conductResumeCheckInterstitialExperiment(r,t)}else if(RDL.isMPROrMPCL||window.RDL.isINTL||RDL.isHLM){var l=e.props.User.UserUID+"#"+e.props.Document.id+"#final-resume#"+t+"##";window.RDL.createCookie("AutoDownload",l,0);var c=RDL.Paths.SellPageUrl+"?docid="+e.props.Document.id+"&doctype="+t+"&from=htmldownload";I.CommonHelper.redirectToUrl(c,I.CommonHelper.isLoggedInUser(window.RDL.UserClaims),window.RDL.TrackEvents)}},this.openDownloadModal=function(t,o){var s=e.state.resumeName.value,a=!1;e.props.showfinalizeV2&&e.toggleAccordion("Download"),null!=e.state.isPremiumUser&&void 0!=e.state.isPremiumUser&&1==e.state.isPremiumUser&&(a=!0),a&&e.props.resumeCheckFeaturePopUp&&!o?(e.htmlClassList.contains("feature-resume-check")||e.htmlClassList.add("feature-resume-check"),e.props.documentActions.getResumeScore(e.props.User.UserUID,e.props.Document.id,e.props.resumeCheckTargetedJob,e.isResumeCheckTitlePresent).then(function(t){(t&&t.score?parseFloat(t.score):90)>80?e.setState({isPremiumUser:!0,showPopup:!0,popupName:U.POPUP_NAME.downloadResume,selectedResumeFormat:"PDF",downloadResumeName:d({},e.state.downloadResumeName,{value:s})}):e.setState({isPremiumUser:!0,showResumeCheckFeature:!0,showResumeCheckCancelbutton:!0})})):e.setState({isPremiumUser:a,showPopup:!0,popupName:U.POPUP_NAME.downloadResume,selectedResumeFormat:"PDF",downloadResumeName:d({},e.state.downloadResumeName,{value:s})})},this.closeDownloadModal=function(){e.setState({showPopup:!1,popupName:"",accordionActiveTab:""})},this.downloadResume=function(){var t=e.showDownloadFileName?e.state.downloadResumeName.value:"";if(!(t.length>0)||e.isFileNameValid(t)){var o=e.state.selectedResumeFormat;""==o&&(o="PDF"),window.RDL.TrackEvents("builder usage",{action:"clicked","screen name":"finalize","click option":"download","document format":o},null,I.CommonHelper.isLoggedInUser(window.RDL.UserClaims)),e.Download(o,!1,t)}},this.isFileNameValid=function(e){var t=!1;return/^[^\\\/\:\*\?\"\<\>\|]+$/.test(e)&&(t=!0),t},this.trackDownloadEvent=function(e){var t={"document type":"resumes","document format":e};window.RDL.TrackEvents("document downloaded",t,"",I.CommonHelper.isLoggedInUser(window.RDL.UserClaims))}};t.default=(0,C.connect)(c,m,null,{withRef:!0})(J)},693:function(e,t,o){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var o=void 0;switch(e){case L.POPUP_NAME.deleteSection:o=c.default.createElement(E.default,t);break;case L.POPUP_NAME.duplicateResume:o=c.default.createElement(U.default,t);break;case L.POPUP_NAME.emailFormat:o=c.default.createElement(b.default,t);break;case L.POPUP_NAME.email:o=c.default.createElement(O.default,t);break;case L.POPUP_NAME.emailSent:o=c.default.createElement(F.default,t);break;case L.POPUP_NAME.error:o=c.default.createElement(z.default,t);break;case L.POPUP_NAME.deleteResume:o=c.default.createElement(H.default,t);break;case L.POPUP_NAME.downloadResume:o=c.default.createElement(b.default,t);break;case L.POPUP_NAME.printPreviewResume:o=c.default.createElement(W.default,t);break;case L.POPUP_NAME.resumeCheck:o=c.default.createElement(K.default,t);break;case L.POPUP_NAME.socialShare:o=c.default.createElement(V.default,t)}return o}function i(e){var t=isFeaturePresent(v.FeatureSet.Feature_GRAD_YEAR_FIELD),o=[],s=RDL.Definition_Tips.filter(function(e){return 1==e.isDefaut}),i=e.state.Document.sections,l=e.state.formatTemplateText,m=0;i=e.isShowPrflSection?i.filter(function(e){return"PICT"!=e.sectionTypeCD&&"PRFL"!=e.sectionTypeCD}):i;var u=["ALNK","SUMM","HILT","EXPR","EDUC","ACCM","ADDI","AFIL","CERT"];RDL.isWhiteLabel&&(u=["ALNK","SUMM","HILT","EXPR","EDUC","ACCM","ADDI","AFIL","CERT","INTR","SFTR","LANG"]);var h="fa icon-CUST";o=i.map(function(t,o){var s=t.name;if(t.sectionTypeCD!=q.TypeCodes.sectionTypeCd.Name){t.sectionTypeCD==q.TypeCodes.sectionTypeCd.Contact&&(h="far fa-file-alt",s=RDL.Localization.Heading_Label);var a=u.includes(t.sectionTypeCD),i=a?"fas icon-"+t.sectionTypeCD:h,n=c.default.createElement("a",{key:m,href:"javascript:void(0);",onClick:function(){return e.navigateToSectionPage(t.sectionTypeCD,t.id)},className:"link",title:t.sectionTypeCD==q.TypeCodes.sectionTypeCd.Contact?RDL.Localization.Heading_Label:t.name},c.default.createElement("i",{className:i,"aria-hidden":"true"}),c.default.createElement("span",{className:"text"},s));return m+=1,h="fa icon-CUST",n}}),o=o.filter(function(e){return void 0!=e});var f=s.filter(function(e){return 0==i.filter(function(t){return t.sectionTypeCD==e.sectionTypeCd}).length});f=f.filter(function(e){return"PICT"!=e.sectionTypeCd}),f.map(function(t,s){var a=u.includes(t.sectionTypeCd),i=a?"fas icon-"+t.sectionTypeCd:h;o.push(c.default.createElement("a",{key:s,href:"javascript:void(0);",onClick:function(){return e.navigateToSectionPage(t.sectionTypeCd,"")},title:t.name,className:"link"},c.default.createElement("i",{className:i,"aria-hidden":"true"}),c.default.createElement("span",{className:"text"},t.name))),m+=1});var g=RDL.isFR?RDL.Paths.BasePath+"/images/rwzv2/intl/NoImageFR.jpg":RDL.Paths.BasePath+"/images/rwzv2/intl/NoImage.jpg";window.RDL.roundPhotoSkins&&window.RDL.roundPhotoSkins.indexOf(e.state.skinCD)>-1&&(g=RDL.Paths.BasePath+"/images/rwzv2/intl/NoBorderImage.jpg");var w=e.state.isPremiumUser&&(window.RDL.isINTL&&RDL.isMPUK&&RDL.enableResumeCheck||!window.RDL.isINTL);return c.default.createElement("div",{className:"page-final",ref:function(t){return e.assignRef("node",t)}},c.default.createElement(p.default,{isFinalPage:!0,User:e.user,userActions:e.userActions,isPremiumUser:e.isPremiumUser,cssClass:{headerClass:" header-light",navbarBrandClass:"navbar-brand-dark"}}),c.default.createElement("section",{className:"container"},c.default.createElement("div",{className:"row resume-headers"},c.default.createElement("div",{className:"col-8 resume-name-edit-wrap"},e.state.resumeNameEdit?c.default.createElement("div",{className:"title-edit d-flex"},c.default.createElement("input",{type:"text",className:"form-control-edit",name:e.state.resumeName.name,maxLength:e.state.resumeName.maxLength,value:e.state.resumeName.value,onChange:e.txtOnChange,onKeyPress:e.renameResumeKeyPress}),c.default.createElement("button",{type:"button",className:"btn btn-outline-primary btn-check",onClick:e.updateResumeNameEdit},c.default.createElement("i",{className:"fa fa-check"})),c.default.createElement("button",{type:"button",className:"btn btn-link",onClick:e.cancelResumeName},RDL.Localization.cancel_Label)):c.default.createElement("a",{className:"resume-name-text",onClick:e.resumeNameEdit,href:"javascript:void(0)"},c.default.createElement("i",{className:"fas fa-pencil"}),"[",e.state.resumeName.value,"]"),""!=e.state.resumeNameValidation&&c.default.createElement("div",{className:"invalid-feedback"},e.state.resumeNameValidation)),c.default.createElement("div",{className:"col-4 resume-more-option-wrap"},c.default.createElement("a",{className:"dropdown-switcher link js-link",href:"javascript:void(0)",onClick:e.openMoreOption},RDL.Localization.moreOptions_Label,c.default.createElement("i",{className:"far fa-angle-down icon-angle-down"})),c.default.createElement("div",{className:"Select-menu-outer list-view"+(e.state.isToggleMoreOption?" slideInUp":" slideOutDown"),onMouseLeave:e.closeMoreOption},c.default.createElement("div",{className:"Select-menu"},e.state.isPremiumUser&&c.default.createElement("div",{className:"Select-option border-top-0",onClick:e.openShareModal},RDL.Localization.share_Label),c.default.createElement("div",{className:"Select-option "+(e.state.isPremiumUser?"":"border-top-0"),onClick:e.openDuplicateModal},RDL.Localization.duplicate_Label),c.default.createElement("div",{className:"Select-option",onClick:e.openDeleteResumeModal},RDL.Localization.delete_Label))))),c.default.createElement("div",{className:"body-resume d-flex"},c.default.createElement("aside",{className:"sidebar",id:"sideBar",ref:function(t){return e.assignRef("sideBar",t)}},c.default.createElement("div",{className:"sidebar-body",ref:function(t){return e.assignRef("sideBarBody",t)}},(window.RDL.isINTL||isIPAD())&&c.default.createElement("nav",{className:"link-action nav-resume-format"},!isIPAD()&&c.default.createElement("a",{href:"javascript:void(0);",className:"link",onClick:e.openDownloadModal},c.default.createElement("i",{className:(window.RDL.isINTL?"fas ":"far ")+" fa-download link-icon","aria-hidden":"true"}),RDL.Localization.download_Label),c.default.createElement("a",{href:"javascript:void(0);",className:"link",onClick:e.onPrintClick},c.default.createElement("i",{className:(window.RDL.isINTL?"fas ":"far ")+" fa-print link-icon","aria-hidden":"true"}),RDL.Localization.print_Label),c.default.createElement("a",{href:"javascript:void(0);",className:"link",onClick:e.onEmailClick},c.default.createElement("i",{className:(window.RDL.isINTL?"fas ":"far ")+" fa-envelope link-icon","aria-hidden":"true"}),RDL.Localization.email_Label)),e.showResumeCheckInterstitial&&c.default.createElement(P.default,{ref:function(t){return e.assignRef("resumeCheckInterstitial",t)},documentId:e.state.Document.id,firstName:e.firstName,onPopupClose:e.onResumeCheckInterstitialPopupClose,onPopupContinue:e.onResumeCheckInterstitialPopupContinue}),c.default.createElement("nav",{className:"nav-check-links link-action"},w&&c.default.createElement("a",{href:"javascript:void(0);",onClick:e.onResumeCheckClick,className:"link"},c.default.createElement("i",{className:"fas fa-check-circle","aria-hidden":"true"}),window.RDL.Localization.mob_ResumeCheck_lbl),c.default.createElement("a",{href:"javascript:void(0);",onClick:e.onSpellCheckClick,className:"link"},c.default.createElement("i",{className:"fas fa-font link-icon","aria-hidden":"true"}),RDL.Localization.spellCheck_lbl),window.RDL.isUK&&c.default.createElement("div",{className:"paperOptionWrap"},c.default.createElement("a",{href:"javascript:void(0);",className:"link paper-size",onClick:e.changePaperSize},c.default.createElement("i",{className:"papersize_icon "+e.state.paperSize,"aria-hidden":"true"}),c.default.createElement("span",null,window.RDL.Localization.paperSize_lbl),c.default.createElement("i",{className:"fas fa-chevron-down downarrow"})),c.default.createElement("div",{className:"Select-menu-outer list-view"+(e.state.showPaperOptions?" slideInUp":" slideOutDown")},c.default.createElement("div",{className:"Select-menu"},c.default.createElement("div",{className:"Select-option",onClick:e.changePaperA4},window.RDL.Localization.a4Size_lbl),c.default.createElement("div",{className:"Select-option",onClick:e.changePaperLetter},window.RDL.Localization.letterSize_lbl))))),c.default.createElement("h5",{className:"sidebar-title"},RDL.Localization.resumeSections_Label,c.default.createElement("i",{className:"far fa-angle-down icon-angle-down"})),c.default.createElement("nav",{className:"nav-resume-section link-action"},o,c.default.createElement("a",{href:"javascript:void(0);",onClick:e.addSec,title:RDL.Localization.addSection_lbl,className:"link text-blue list-sepration"},c.default.createElement("i",{className:"fas fa-plus mr-2","aria-hidden":"true"}),RDL.Localization.addSection_lbl),!window.RDL.isINTL&&!isIPAD()&&c.default.createElement("a",{href:"javascript:void(0);",className:"link list-sepration",onClick:e.openDownloadModal},c.default.createElement("i",{className:"fas fa-download link-icon","aria-hidden":"true"})," ",RDL.Localization.download_Label)))),c.default.createElement("div",{className:"preview-container position-relative",id:"resumeDoc",onMouseEnter:e.handleHover,onMouseLeave:e.handleHover},c.default.createElement("div",{className:"loader-overlay loader-overlay-resume position-absolute d-none",id:"resumeLoader"},c.default.createElement("div",{className:"loader-img"})),c.default.createElement("div",{className:"spellcheck-notification "+(e.state.spellCheckNotification.isOpen?"fade-in":"")},c.default.createElement("i",{className:"fas fa-check "}),e.state.spellCheckNotification.message),!e.state.spellCheck.isClicked&&c.default.createElement(J.default,{assignRef:e.assignRef,document:e.state.Document,documentScale:0,skinCD:e.state.skinCD,Definition_Tips:RDL.Definition_Tips,Localization:RDL.localizationResumeRenderer,EmptyProfilePic:g,randomNum:window.RDL.randomPhotoNumber,portalCd:RDL.PortalSettings.ConfigurePortalCd,reOrderCityStateZip:window.RDL.isFR||window.RDL.isES,enableHover:!0,showDefaultText:!0,isDragMove:!0,showLinksInResumeHeading:!0,hideEditForMultiParaSections:!0,skipDocumentScaling:!0,hideAddParagraphButton:!0,removeDependencyNodes:!0,showSideBar:e.state.showSideBar,openDeleteSectionsPopup:e.openDeleteSectionsPopup,isPreviewState:e.state.isPreviewState,onEdit:e.onEdit,showPopup:e.showPopup,addAnotherParagraph:e.addAnotherParagraph,isLoggedIn:e.isLoggedIn,reorderSections:e.reorderSections,updateSectionName:e.renameSection,getTemplateFromSkin:RDL.getTemplateFromSkin,isMultiColumnSkin:RDL.isMultiColumnSkin(e.state.skinCD),isGraduationYearUpdate:t,showDeleteInDragDisableSections:e.showDeleteInDragDisableSections,defaultPageSize:RDL.isINTL&&!RDL.isMX?"A4":"",enablemultiParaImprovement:!!RDL.isINTL}),e.state.spellCheck.isClicked&&c.default.createElement(k.default,{ref:function(t){return e.assignRef("spellCheck",t)},documentSkinCD:e.state.Document.skinCD,badWordsWithSuggestions:e.state.spellCheck.badWordsWithSuggestions,documentHtmlText:e.state.spellCheck.documentToCheck,onSpellCheckComplete:e.updateDocumentOnSpellCheck,onSpellCheckCancel:e.onSpellCheckCancel,onNoSpellCheckSuggestionsFound:e.onNoSpellCheckSuggestionsFound}),e.state.showPopup&&c.default.createElement(d.default,r({isOpen:!0},n(e.state.popupName,e)),a(e.state.popupName,e)),e.state.showResumeCheckFeature&&c.default.createElement(Z.default,{documentId:e.state.Document.id,userUID:e.user.UserUID,resumeCheckTargetedJob:e.resumeCheckTargetedJob,isTitlePresent:e.isResumeCheckTitlePresent,getActivityList:e.getResumeCheckActivityList,onFixResumeClick:e.onResumeCheckFixResumeClick,showResumeCheckCancelbutton:e.state.showResumeCheckCancelbutton,closeResumeCheckFeatureModal:e.closeResumeCheckFeatureModal,onResumeCheckFeatureCancelClick:e.onResumeCheckFeatureCancelClick})))),c.default.createElement("footer",{className:"finalize-footer"},c.default.createElement("div",{className:"footer-toolbar"},c.default.createElement("div",{className:"container"},c.default.createElement("div",{className:"row"},c.default.createElement("div",{className:"col-3 dropdown-custom "+(e.state.isTemplateOptionsVisible?"active":""),onClick:e.openCloseTemplateDropdown},c.default.createElement("label",{className:"dropdown-label"},RDL.Localization.mpcl_Template_Text),c.default.createElement("span",{className:"dropdown-value"},c.default.createElement("span",{className:"mr-2 template-name"},e.state.activeSkin),c.default.createElement("i",{className:"fas fa-angle-down icon-angle-down"}))),c.default.createElement("div",{className:"col-4 dropdown-custom "+(e.state.isFormatOptionsVisible||e.state.isCustomFormatOptionsVisible?"active":""),onClick:e.openCloseFormatOptions},c.default.createElement("label",{className:"dropdown-label"},window.RDL.Localization.formatting_lbl),c.default.createElement("span",{className:"dropdown-value"},c.default.createElement("span",{className:"mr-2 template-name"}," ","large"==l.toLowerCase()?window.RDL.Localization.large_lbl:"normal"==l.toLowerCase()?window.RDL.Localization.normal_lbl:"small"==l.toLowerCase()?window.RDL.Localization.small_lbl:"custom"==l.toLowerCase()?window.RDL.Localization.custom_Text:""),c.default.createElement("i",{className:"fas fa-angle-down icon-angle-down","aria-hidden":"true"})),c.default.createElement("ul",{className:"dropdown-menu dropdown-formatting-options d-flex "+(e.state.isFormatOptionsVisible?"active":"")},c.default.createElement("li",{className:"formatting-option-item "+("small"==l.toLowerCase()?"small active":"small"),onClick:function(t){return e.handleChangeFormatting(t,"Small")}},c.default.createElement("figure",null,c.default.createElement("i",{className:"fas fa-bars","aria-hidden":"true"})),c.default.createElement("p",{className:"text"},window.RDL.Localization.small_lbl)),c.default.createElement("li",{className:"formatting-option-item "+("normal"==l.toLowerCase()?"normal active":"normal"),onClick:function(t){return e.handleChangeFormatting(t,"Normal")}},c.default.createElement("figure",null,c.default.createElement("i",{className:"fas fa-bars","aria-hidden":"true"})),c.default.createElement("p",{className:"text"},window.RDL.Localization.normal_lbl)),c.default.createElement("li",{className:"formatting-option-item "+("large"==l.toLowerCase()?"large active":"large"),onClick:function(t){return e.handleChangeFormatting(t,"Large")}},c.default.createElement("figure",null,c.default.createElement("i",{className:"fas fa-bars","aria-hidden":"true"})),c.default.createElement("p",{className:"text"},window.RDL.Localization.large_lbl)),c.default.createElement("li",{className:"formatting-option-item "+(l?"custom active":"custom"),onClick:e.openCloseCustomFormatOptions},c.default.createElement("figure",null,c.default.createElement("i",{className:"fas fa-cogs","aria-hidden":"true"})),c.default.createElement("p",{className:"text"},window.RDL.Localization.custom_Text)))),c.default.createElement("div",{className:"col-2 dropdown-custom dropdown-color-selector "+(e.state.isColorPickerVisible?" active":""),onClick:e.openCloseColorSelector},c.default.createElement("label",{className:"dropdown-label"},window.RDL.Localization.color_lbl),c.default.createElement("span",{className:"dropdown-value color-option-selected"},e.skinColor&&""!=e.skinColor?c.default.createElement("label",{htmlFor:"",className:"label active"},c.default.createElement("input",{type:"radio",name:"skin_color"}),c.default.createElement("span",{className:"color-selector-radio",style:{background:e.skinColor}})):c.default.createElement("button",{type:"button",title:"Reset",className:"color-selector-reset color-selector acr-reset-them-ctnr active"},c.default.createElement("span",{className:"color-selector-radio"})),c.default.createElement("i",{className:"fas fa-angle-down icon-angle-down"})),c.default.createElement("div",{className:"dropdown-menu dropdown-color-option "+(e.state.isColorPickerVisible?" active":"")},c.default.createElement(S.default,{colorItems:e.colorItems,selectedColor:e.skinColor,hideResetButton:!1,handleMouseEnter:e.onColorPickerMouseEnter,handleMouseLeave:e.onColorPickerMouseLeave,handleClick:e.onSkinColorSelected}))),c.default.createElement("div",{className:"col-2"},c.default.createElement("button",{className:"btn btn-primary btn-lg",type:"button",onClick:e.onSaveandNextClick,dangerouslySetInnerHTML:{__html:RDL.Localization.saveAndNext_Label}}))))),c.default.createElement("div",{className:"dropdown-content dropdown-template "+(e.state.isTemplateOptionsVisible?"slide-up":"slide-down")},c.default.createElement("a",{href:"javascript:void(0);",className:"dropdown-close",onClick:e.openCloseTemplateDropdown},RDL.Localization.mbe_WritingAssistance_Close_lbl,c.default.createElement("i",{className:"fa fa-times ml-1"})),c.default.createElement(D.default,{assignRef:e.assignRef,onSkinClick:e.setSelectedTemplate,onSkinMouseEnter:e.onSkinMouseEnter,onSkinMouseLeave:e.onSkinMouseLeave,documentSkinCD:e.state.Document.skinCD,skinCD:e.state.skinCD})),c.default.createElement("div",{className:"dropdown-content dropdown-formatting "+(e.state.isCustomFormatOptionsVisible?"slide-up":"slide-down")},c.default.createElement("a",{href:"javascript:void(0);",className:"dropdown-close",onClick:e.openCloseCustomFormatOptions},RDL.Localization.mbe_WritingAssistance_Close_lbl,c.default.createElement("i",{className:"fa fa-times ml-1"})),c.default.createElement(C.default,{docStyles:e.state.Document.docStyles,onSliderChanging:e.onSliderChanging,onFormattingChange:e.onFormattingChange,onFontClick:e.onFontClick}))))}function n(e,t){var o=r({},L.POPUP_PROPERTIES[e]);switch(e){case L.POPUP_NAME.deleteSection:o.onPrimaryClick=t.isSectionDelete?t.deleteSection:t.deleteParagraph,o.onSecondaryClick=t.closeDeleteSectionModal,o.closeModal=t.closeDeleteSectionModal;break;case L.POPUP_NAME.deleteResume:o.onPrimaryClick=t.deleteResume,o.onSecondaryClick=t.closeDeleteResumeModal,o.closeModal=t.closeDeleteResumeModal;break;case L.POPUP_NAME.duplicateResume:o.onPrimaryClick=t.duplicateResume,o.onSecondaryClick=t.closeDuplicateModal,o.closeModal=t.closeDuplicateModal;break;case L.POPUP_NAME.downloadResume:o.onPrimaryClick=t.downloadResume,o.onSecondaryClick=t.closeDownloadModal,o.closeModal=t.closeDownloadModal,t.showDownloadFileName&&(o.cssClass={btnPrimary:"btn-primary order-2",btnSecondary:"btn-secondary order-1",modalFooter:"d-flex justify-content-right",modalDialog:"modal-download modal-dialog-common"});break;case L.POPUP_NAME.printPreviewResume:o.onPrimaryClick=t.printResume,o.onSecondaryClick=t.closePrintModal,o.closeModal=t.closePrintModal,o.onShow=t.afterOpenPrintModal;break;case L.POPUP_NAME.emailFormat:o.onPrimaryClick=t.openEmailModal,o.onSecondaryClick=t.closeEmailModal,o.closeModal=t.closeEmailModal;break;case L.POPUP_NAME.email:o.onPrimaryClick=t.closeEmailForm,o.closeModal=t.closeEmailForm;break;case L.POPUP_NAME.emailSent:o.onPrimaryClick=t.closeEmailSuccesModal,o.closeModal=t.closeEmailSuccesModal;break;case L.POPUP_NAME.error:o.onPrimaryClick=t.closeEmailErrorModal,o.closeModal=t.closeEmailErrorModal;break;case L.POPUP_NAME.resumeCheck:o.closeModal=t.closeResumeCheckModal;break;case L.POPUP_NAME.socialShare:o.closeModal=t.closeShareModal}return o}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(e[s]=o[s])}return e};t.default=i;var l=o(0),c=s(l),m=o(24),d=s(m),u=o(72),p=s(u),h=o(136),C=s(h),f=o(137),D=s(f),g=o(138),S=s(g),w=o(139),k=s(w),R=o(220),P=s(R),L=o(5),v=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}(L),T=o(140),E=s(T),N=o(141),U=s(N),y=o(142),b=s(y),M=o(143),O=s(M),I=o(144),F=s(I),A=o(145),z=s(A),_=o(146),H=s(_),x=o(147),V=s(x),B=o(148),W=s(B),j=o(74),J=s(j),G=o(149),K=s(G),X=o(150),Z=s(X),q=o(7)}});